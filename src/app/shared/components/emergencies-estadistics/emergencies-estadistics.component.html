<div class="app-content content">
    <div class="content-wrapper">
      <!-- <div class="content-header row mb-1">
        <app-breadcrumb class="col-12" [breadcrumb]="breadcrumb"></app-breadcrumb>
      </div> -->
      <div class="content-body">
        <section id="selection-n-deletion">
            <div class="row">
                <div class="col-12">
                    <form [formGroup]="filtroForm">
                    <div class="row" style="margin-bottom: -0.5rem;">
                        <div class="form-group col-sm-12 col-md-4 col-lg-2">
                        <div class="input-group input-group-sm">
                            <div class="input-group-append">
                            <span class="input-group-text">Sedes</span>
                            </div>
                            <select
                            class="form-control form-select"
                            formControlName="id_sede"
                            id="inputGroupSelect04"
                            >
                            <option value="0000">Todos</option>
                            <option value="0001">Lima</option>
                            <option value="0002">Chorrillos</option>
                            <option value="0004">Surco</option>
                            </select>
                        </div>
                        </div>  
                        <div class="form-group col-sm-12 col-md-4 col-lg-2">
                        <div class="input-group input-group-sm">
                            <div class="input-group-prepend">
                            <span class="input-group-text">Año</span>
                            </div>
                            <!-- <input
                            type="date"
                            formControlName="mes"
                            class="form-control"
                            /> -->
                            <select formControlName="anio" class="form-control form-select" >
                            <option
                                *ngFor="let option of optionsAnio"
                                [value]="option.value"
                            >
                                {{ option.label }}
                            </option>
                        </select>
                        </div>
                        </div>
                        <div class="form-group col-sm-12 col-md-4 col-lg-2">
                            <div class="input-group input-group-sm">
                                <div class="input-group-prepend">
                                <span class="input-group-text">Tipo Periodo :</span>
                                </div>
                                <!-- <input
                                type="date"
                                formControlName="anio"
                                class="form-control"
                                /> -->
                                <select class="form-control form-select" disabled="disabled">
                                    <option value="1">Mensual </option>
                            </select>
                            </div>
                        </div>
                        <div class="form-group col-sm-12 col-md-4 col-lg-2">
                            <div class="input-group input-group-sm">
                                <div class="input-group-prepend">
                                <span class="input-group-text">Mes</span>
                                </div>
                                <!-- <input
                                type="date"
                                formControlName="anio"
                                class="form-control"
                                /> -->
                                <select formControlName="mes" class="form-control form-select">
                                <option
                                    *ngFor="let option of optionsMes"
                                    [value]="option.value"
                                >
                                    {{ option.label }}
                                </option>
                            </select>
                            </div>
                        </div>
                        
                        <div class="form-group col-sm-12 col-md-4 col-lg-3">
                            <div class="input-group">
                                <div class="input-group-btn">
                                    <button (click)="filter()" class="btn btn-sm btn-primary">
                                        <i class="fa fa-search"></i> Filtrar
                                    </button>
                                </div>
                            </div>
                        </div>           
                    </div>
                    </form>
                    <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs" style="justify-content: end;">
                        <li [ngbNavItem]="1">
                            <a ngbNavLink>Gráfico</a>
                            <ng-template ngbNavContent>
                                <div class="card atencionesConsultaExterna">
                                    <div class="card-header">
                                      <h4 class="card-title" style="bottom:13px;">Atenciones por Emergencia</h4>
                                      <p>{{message}}</p> 
                                    </div>
                                    <div class="col-md-12 div_panel_cabecera">
                                    <div class="col-md-3 col-sm-6 col-xs-12" style="display: flex;">
                                        <div class="info-box">
                                            <span style="background:#3c8dbc !important; color:#fff !important;" class="info-box-icon">
                                            <i class="fa fa-users" aria-hidden="true"></i>
                                            </span>		
                                            <div class="info-box-content">
                                            <span style="font-family:arial; font-size:15px; " class="info-box-text">ATENCIONES</span>
                                                <span *ngIf="resumenMes.emergencia" class="info-box-number">{{resumenMes.emergencia}} </span>
                                                <!-- <label style="position:relative; top:13px; font-size:12px;" class="label label-pill label-success">Tiempo programado / 12 horas x dia
                                                </label> -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3 col-sm-6 col-xs-12" style="display: flex;">
                                        <div class="info-box">
                                            <span style="background: #f56954 !important; color:#fff !important;" class="info-box-icon">			
                                            <i class="fa fa-street-view" aria-hidden="true"></i>		</span>		
                                            <div class="info-box-content">			<span style="font-family:arial; font-size:15px; " class="info-box-text">HOSPITALIZADOS</span>			<span *ngIf="resumenMes.hospitalizados" class="info-box-number">{{resumenMes.hospitalizados}} </span>			
                                            <label style="position:relative; top:13px; font-size:12px;" class="label label-pill label-success">{{(resumenMes.hospitalizados/resumenMes.emergencia) * 100 | number : '1.2-2' }} %
                                                </label>		
                                              </div>
                                        </div>
                                      
                                    </div>
                                    <div class="col-md-3 col-sm-6 col-xs-12" id="estancia">
                                        <div class="info-box">
                                            <span style="background: #00c0ef !important; color:#fff !important;" class="info-box-icon">			
                                            <i class="fa fa-clock-o" aria-hidden="true"></i>		</span>		
                                            <div class="info-box-content">			<span style="font-family:arial; font-size:15px; " class="info-box-text">ESTANCIA PROMEDIO</span>			
                                            <span *ngIf="resumenMes.reservadas" class="info-box-number">...</span>			
                                            <!-- <label style="position:relative; top:13px; font-size:12px;" class="label label-pill label-success" >Tiempo de atención / tiempo programado
                                            </label>		 -->
                                          </div>
                                        </div>
                                        <div class="col-md-3 col-sm-6 col-xs-12 div_ocultar_ptable_a" style="display: none;">
                                          <div class="info-box">
                                            <table class="table table-bordered">
                                                <tbody>
                                                  <tr>
                                                      <th style="padding: 2px 4px!important; line-height: inherit; font-size: 14px!important;">Estancia Mínima</th>
                                                      <th style="padding: 2px 8px!important; line-height: inherit;"><span id="ptable_anul">...</span></th>
                                                  </tr>
                                                  <tr>
                                                      <th style="padding: 2px 4px!important; line-height: inherit; font-size: 14px!important;">Estancia Máxima</th>
                                                      <th style="padding: 2px 8px!important; line-height: inherit;"><span id="ptable_inas">...</span></th>
                                                  </tr>
                                                </tbody>
                                            </table>
                                          </div>
                                        </div>
                                    </div>
                                    
                                    </div>
                                    <div class="card-content collapse show">
                                      <div class="row" style="align-items: center;justify-content: space-between;">
                                        <div class="col-md-8">
                                          
                                          <ul class="list-group list-group-horizontal list-group-flush" style="flex-wrap: wrap;">
                                            <li class="list-group-item border-0 pl-0">
                                              <a  id="downloadlink1" href="#" 
                                                class="btn btn-sm font-weight-bold btn-link" (click)="guardarImagen('chart-1', 'downloadlink1')" download *ngIf="selectedOptionGraph1 == 'ingresos_emergencia'">
                                                <i class="fa fa-external-link"></i>
                                                Guardar Imagen
                                              </a>
                                              <a  id="downloadlink1" href="#" 
                                                class="btn btn-sm font-weight-bold btn-link" (click)="guardarImagen('chart-3', 'downloadlink1')" download *ngIf="selectedOptionGraph1 !== 'ingresos_emergencia'">
                                                <i class="fa fa-external-link"></i>
                                                Guardar Imagen
                                              </a>
                                            </li>
                                            <li class="list-group-item border-0 pl-0">
                                              <select class="form-control" style="width: auto!important; height: 2.2rem;" (change)="tipoChangeGraph($event.target.value, 'bar')" [(ngModel)]="selectedOptionGraph1">
                                                <option value="ingresos_emergencia">Nro de Ingresos por emergencia</option>
                                                <option value="altas_emergencia">Altas por emergencia</option>
                                              </select>
                                            </li>
                                          </ul>
                                          <p class="text-center">
                                            <i class="fa fa-line-chart"></i>
                                            <strong *ngIf="selectedOptionGraph1 == 'ingresos_emergencia'">Nro. de Atenciones Realizadas en Emergencia</strong>
                                            <strong *ngIf="selectedOptionGraph1 !== 'ingresos_emergencia'">Nro. de Altas por Emergencia</strong>
                                          </p>
                                          <div class="card-body">
                                            <div class="d-block" >
                                              <canvas #baseChart id="chart-1" *ngIf="selectedOptionGraph1 == 'ingresos_emergencia'">
                                              </canvas>
                                              
                                              <canvas #baseChart id="chart-3" *ngIf="selectedOptionGraph1 !== 'ingresos_emergencia'">
                                              </canvas>
                                            </div>
                                          </div>
                                          <!-- <div class="card-body" *ngIf="selectedOptionGraph1 !== 'ingresos_emergencia'">
                                            <div class="d-block" >
                                              
                                            </div>
                                          </div> -->
                                        </div>
                                        <div class="col-md-4">
                                          <p class="text-center">
                                            <i class="fa fa-pie-chart" aria-hidden="true"></i>
                                            <strong>Tipos de Pacientes TOTAL: [<label id="TOTAL_RE">{{totalProgs}}</label>]-[100%]</strong>
                                          </p>
                                          <ul class="list-group list-group-horizontal list-group-flush" style="flex-wrap: wrap;">
                                            <li class="list-group-item border-0 pl-0">
                                              <a  id="downloadlink2" href="#" 
                                                class="btn btn-sm font-weight-bold btn-link" (click)="guardarImagen('chart-2', 'downloadlink2')" download *ngIf="selectedOptionGraph2 == 'ingresos_emergencia'">
                                                <i class="fa fa-external-link"></i>
                                                Guardar Imagen
                                              </a>
                                              <a  id="downloadlink2" href="#" 
                                                class="btn btn-sm font-weight-bold btn-link" (click)="guardarImagen('chart-4', 'downloadlink2')" download *ngIf="selectedOptionGraph2 !== 'ingresos_emergencia'">
                                                <i class="fa fa-external-link"></i>
                                                Guardar Imagen
                                              </a>
                                            </li>
                                            <li class="list-group-item border-0 pl-0">
                                              <select class="form-control" style="width: auto!important;height: 2.2rem;" (change)="tipoChangeGraph($event.target.value, 'pie')" [(ngModel)]="selectedOptionGraph2">
                                                <option value="ingresos_emergencia">Nro de Ingresos por emergencia</option>
                                                <option value="altas_emergencia">Altas por emergencia</option>
                                              </select>
                                            </li>
                                          </ul>
                                          <div class="card-body">
                                            <div class="d-block" >
                                              <canvas #baseChart id="chart-2" *ngIf="selectedOptionGraph2 == 'ingresos_emergencia'">
                                              </canvas>
                                              <canvas #baseChart id="chart-4" *ngIf="selectedOptionGraph2 !== 'ingresos_emergencia'">
                                              </canvas>
                                            </div>
                                          </div>
                                          <div class="card-body" *ngIf="selectedOptionGraph2 == 'ingresos_emergencia'">
                                            <ngb-accordion [destroyOnHide]="false" [closeOthers]="true" #acc="ngbAccordion" activeIds="ngb-panel-0">
                                              <ngb-panel *ngFor="let percentageCompleted of progressBar1; let i = index;">
                                                <ng-template ngbPanelTitle style="width:100%!important;">
                                                  <span style="display:flex; color:#000; justify-content: space-between;"><b>{{progressBarLabels[i]}}</b>{{percentageCompleted.value}} - [{{percentageCompleted.porcentaje}}] %</span>
                                                  <ngb-progressbar
                                                      [type]="color[i]"
                                                      [value]="percentageCompleted.porcentaje"
                                                      [striped]="false"
                                                      [animated]="false">
                                                  </ngb-progressbar>
                                                </ng-template>
                                                <ng-template ngbPanelContent>
                                                  <table class="table table-bordered">
                                                    <thead>
                                                      <tr>
                                                          <th></th>
                                                          <th>Cantidad</th>
                                                          <th>Porcentaje</th>
                                                      </tr>
                                                    </thead>
                                                      <tbody *ngFor="let rowTable of percentageCompleted.table; let i = index;">
                                                      <tr style="font-size:16px;">
                                                          <td>{{rowTable.programa }}</td>
                                                          <td><strong><span>{{rowTable.cantidad}}</span></strong></td>
                                                          <td><strong><span>{{rowTable.porcentaje}}</span></strong></td>
                                                      </tr>
                                                    </tbody>
                                                </table>
                                                </ng-template>
                                              </ngb-panel>
                                            </ngb-accordion>
                                            <!-- <div class="d-block" *ngFor="let percentageCompleted of progressBar1; let i = index;">
                                              <span style="display:flex; justify-content: space-between;"><i><b>{{progressBarLabels[i]}}</b></i><i>{{percentageCompleted.value}} - [{{percentageCompleted.porcentaje}}] %</i></span>
                                                <ngb-progressbar
                                                    [type]="color[i]"
                                                    [value]="percentageCompleted.porcentaje"
                                                    [striped]="false"
                                                    [animated]="false">
                                                </ngb-progressbar>
                                                <p></p>
                                                <div id="div_ocultar_tarjetas" style="margin-bottom: 15px; display: block;">
                                                  <table class="table table-bordered">
                                                     <thead>
                                                        <tr>
                                                           <th></th>
                                                           <th>Cantidad</th>
                                                           <th>Porcentaje</th>
                                                        </tr>
                                                     </thead>
                                                       <tbody *ngFor="let rowTable of percentageCompleted.table; let i = index;">
                                                        <tr style="font-size:16px;">
                                                           <td>{{rowTable.programa }}</td>
                                                           <td><strong><span>{{rowTable.cantidad}}</span></strong></td>
                                                           <td><strong><span>{{rowTable.porcentaje}}</span></strong></td>
                                                        </tr>
                                                      </tbody>
                                                  </table>
                                               </div>
                                            </div> -->
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    <!-- <div class="box-header with-border" style="margin:1rem; ">
                                      <h5 class="box-title">Comparativo del mes anterior</h5>
                                    </div> 
                                    <div class="col-md-12 div_panel_cabecera">
                                          <div class="col-md-3 col-sm-6 col-xs-12">
                                            <div class="description-block border-right">
                                                <span class="description-percentage text-green" [ngClass]="{'text-red': porcCompaMesAntRealizas < 0 }">
                                                  <i class="fa fa-caret-up" *ngIf="porcCompaMesAntRealizas > 0"></i>
                                                  <i class="fa fa-caret-down" *ngIf="porcCompaMesAntRealizas < 0"></i>
                                                  <div>{{porcCompaMesAntRealizas}} %</div>
                                                </span>
                                                <h5 class="description-header" >{{resumenMesAnterior.total}}</h5>
                                                <span class="description-text">REALIZADAS</span>
                                            </div>
                                          </div>
                                          <div class="col-md-3 col-sm-6 col-xs-12">
                                            <div class="description-block border-right">
                                              <span class="description-percentage text-green" [ngClass]="{'text-red': porcCompaMesAntAusentismo < 0 }">
                                                <i class="fa fa-caret-up" *ngIf="porcCompaMesAntAusentismo > 0"></i>
                                                <i class="fa fa-caret-down" *ngIf="porcCompaMesAntAusentismo < 0"></i>
                                                <div>{{porcCompaMesAntAusentismo}} %</div>
                                              </span>
                                                <h5 class="description-header" >{{resumenMesAnterior.ausentismo}}</h5>
                                                <span class="description-text">AUSENTISMO</span>
                                            </div>
                                          </div>
                                          <div class="col-md-3 col-sm-6 col-xs-12">
                                            <div class="description-block border-right">
                                              <span class="description-percentage text-green" [ngClass]="{'text-red': porcCompaMesAntReservadas < 0 }">
                                                <i class="fa fa-caret-up" *ngIf="porcCompaMesAntReservadas > 0"></i>
                                                <i class="fa fa-caret-down" *ngIf="porcCompaMesAntReservadas < 0"></i>
                                                <div>{{porcCompaMesAntReservadas}} %</div>
                                              </span>
                                               <h5 class="description-header" >{{resumenMesAnterior.reservadas}}</h5>
                                               <span class="description-text">RESERVADAS</span>
                                            </div>
                                          </div>
                                      
                                    </div> -->
                                    <div class="box-header with-border" style="margin:1rem; ">
                                      <h5 class="box-title">de EfecIngreso tivo por Caja: <b> S/ {{resumenMontos.montoTotal | number : '1.2-2' }}</b>
                                      </h5>
                                    </div>
                                    <div class="col-md-12 div_panel_cabecera">
                                        <div class="col-md-3 col-sm-6 col-xs-12" style="display: flex;">
                                           <div class="info-box">
                                              <span style="background: #63B6DE !important; color:#fff !important;" class="info-box-icon">
                                                <i class="fa fa-credit-card" aria-hidden="true"></i>
                                              </span>		
                                              <div class="info-box-content">
                                                <span style="font-family:arial; font-size:15px; " class="info-box-text">PROGRAMAS DE SALUD</span>
                                                  <span *ngIf="resumenMontos.tarjeta" class="info-box-number" ><b _ngcontent-xkc-c219=""> S/ </b>{{resumenMontos.tarjeta  }}</span>
                                                  
                                              </div>
                                           </div>
                                        </div>
                                        <div class="col-md-3 col-sm-6 col-xs-12" style="display: flex;">
                                           <div class="info-box">
                                              <span style="background: #DD4B39!important; color:#fff !important;" class="info-box-icon">			
                                                <i class="fa fa-hospital-o" aria-hidden="true"></i>		</span>		
                                              <div class="info-box-content">			<span style="font-family:arial; font-size:15px; " class="info-box-text">INSTITUCIONAL Y PRIVADO</span>			
                                                <span *ngIf="resumenMontos.instipriva" class="info-box-number"><b _ngcontent-xkc-c219=""> S/ </b>{{resumenMontos.instipriva  }}</span>			
                                                	</div>
                                           </div>
                                        </div>
                                        <div class="col-md-3 col-sm-6 col-xs-12" style="display: flex;">
                                           <div class="info-box">
                                              <span style="background: #57AA50 !important; color:#fff !important;" class="info-box-icon">			
                                                <i class="fa fa-hospital-o" aria-hidden="true"></i>		</span>		
                                              <div class="info-box-content">			
                                                <span style="font-family:arial; font-size:15px; " class="info-box-text" >CONVENIOS Y
                                                  CIA. DE SEGUROS</span>			
                                                <span *ngIf="resumenMontos.ciasegcon" class="info-box-number"> S/ {{resumenMontos.ciasegcon }}</span>			
                                                </div>
                                           </div>
                                        </div>
                                        <div class="col-md-3 col-sm-6 col-xs-12" style="display: flex;">
                                          <div class="info-box">
                                             <span style="background: #F39C12!important; color:#fff !important;" class="info-box-icon">			
                                               <i class="fa fa-wheelchair" aria-hidden="true"></i>		</span>		
                                             <div class="info-box-content">			<span style="font-family:arial; font-size:15px; " class="info-box-text">OTROS</span>			<span *ngIf="resumenMontos.Otros" class="info-box-number"> S/ {{resumenMontos.Otros | number : '1.2-2' }}</span>			
                                              </div>
                                          </div>
                                       </div>
                                       
                                    </div>
                                    <div class="box-header with-border" style="margin:1rem; ">
                                      <div class="box-footer">
                                        <p>* Información existente desde Enero 2019</p>
                                        <p>* Estancia promedio NO considera pacientes que se hospitalizaron</p>
                                        <p>* Ingreso Total por Caja incluye IGV - No Incluye Cobro Facturado a Empresas</p>
                                        <p>*  Fuente ERP SPRING Salud</p>
                                      </div>
                                    </div>
                                </div>
                            </ng-template>
                        </li>
                        <li [ngbNavItem]="2">
                            <a ngbNavLink>Mensual</a>
                            <ng-template ngbNavContent>
                                <div class="card">
                                    <div class="card-header">
                                      <h4 class="card-title" style="bottom:13px;">Atenciones por Emergencia</h4>
                                      <p>{{message}}</p>
                                    </div>
                                    <div class="card-content collapse show">
                                      <div class="card-body">
                                        <!-- <a class="btn btn-primary" id="downloadLink" (click)="exportexcel()">Exportar tabla a Excel</a>
                                        <a class="btn btn-primary" id="downloadLink" (click)="copyTableToClipboard()">Copiar tabla</a> -->
                                        <div class="table table-striped table-bordered selection-deletion-row">
                                          <!-- <div class="row" style='margin-left:0px;'>
                                            <div class="col-xs-6">
                                              <select class="form-control form-select" (change)="onLimitChange($event.target.value)">
                                                <option
                                                  *ngFor="let option of pageLimitOptions"
                                                  [value]="option.value"
                          
                                                >
                                                  {{ option.value }} Registros
                                                </option>
                                                <option value="0" *ngIf="this.page.totalElements">Todos los Registros</option>
                                              </select>
                                            </div>
                                          </div> -->
                                          <div class="box box-solid">
                                            <div id="accordion1">
                                              <div class="card">
                                                <div class="card-header" >
                                                  <div class="box-header">
                                                    <div class="toggle-table">
                                                      <div class="callout callout-info">
                                                        <h3 class="box-title">TIPO DE PACIENTE</h3>
                                                      </div>
                                                      <button type="button" class="btn btn-outline-primary" (click)="collapse1.toggle()" [attr.aria-expanded]="!isCollapsed1"
                                                      aria-controls="collapseExample">
                                                      <i class="fa fa-minus" *ngIf="!isCollapsed1"> </i>
                                                      <i class="fa fa-plus" *ngIf="isCollapsed1"> </i> 
                                                      </button>
                                                    </div>
                                                  </div>
                                                </div>
                                                <div #collapse1="ngbCollapse" [(ngbCollapse)]="isCollapsed1">
                                                  <div class="row" style="align-items: center;justify-content: space-between;">
                                                    <ul class="list-group list-group-horizontal list-group-flush" style="flex-wrap: wrap;">
                                                      <li class="list-group-item border-0 pl-0">
                                                        <button class="btn btn-sm font-weight-bold btn-link" (click)="copyTableToClipboard(1)">
                                                          <i class="fa fa-external-link"></i>
                                                          Copiar tabla
                                                        </button>
                                                      </li>
                                                      <li class="list-group-item border-0 pl-0">
                                                        <button class="btn btn-sm font-weight-bold btn-link" (click)="exportToExcel(1)">
                                                          <i class="fa fa-external-link"></i>
                                                          Exportar tabla a Excel
                                                        </button>
                                                      </li>
                                                    </ul>
                                                    <div style="display:flex;align-items: center; justify-content:flex-end">
                                                        <select class="form-control form-select" style="width: auto!important;" (change)="tipoChange($event.target.value, 'pacientes')" [(ngModel)]="selectedOptionTipo">
                                                          <option value="cantidad">Cantidad</option>
                                                          <option value="soles">Soles</option>
                                                        </select>
                                                        <!-- <select formControlName="especialidadNombre" class="form-control form-select" (change)="especialityChange($event.target.value)" style="width:auto!important;" [(ngModel)]="selectedOption" >
                                                          <option [value]="selectedOption" selected>{{selectedOption}}</option>
                                                        <option 
                                                          *ngFor="let especialidad of especialidades; let i=index"
                                                          [value]="especialidad.value"
                                                        >{{especialidad.value}}
                                                        </option>
                                                      </select> -->
                                                        <div class="" style="display:flex;margin:15px;align-items: center;">
                                                          <span>Buscar</span>&nbsp;&nbsp;
                                                            <input type="text" style='padding:6px;width:100%;' placeholder="por cualquier campo" (keyup)='updateFilter($event, selectedOptionTipo)'>
                                                        </div>
                                                      </div>                                 
                                                  </div>
                                                  
                                                  <ngx-datatable #myTable1
                                                  class="bootstrap table table-striped"
                                                  id="datatablele"
                                                    [columns]="columns1"
                                                    [rows]="rows1filtered"
                                                    [columnMode]="ColumnMode.flex"
                                                    [headerHeight]="50"
                                                    [rowHeight]="$any('auto')"
                                                    [scrollbarH]="true"
                                                    (page)="setPage($event)"
                                                    [rowClass]="getRowClass1"
                                                    >
                                                    <ngx-datatable-column [flexGrow]="1" [minWidth]="90" *ngFor="let column of columns1; let i = index;" name="{{column.name}}" prop="{{column.prop}}">
                                                      <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                                        let-row="row">
                                                        <div>
                                                          <span  [title]="value">{{value}}</span>
                                                        </div>
                                                        <!-- <div [ngClass]="{'row-center': row.item.includes('TOTAL') && column.name === 'ITEM', 'row-background': row.item.includes('TOTAL')}">
                                                          <span  [ngClass]="{'row-paddin': row.item.includes('-') && column.name === 'ITEM', 'row-center': row.item.includes('TOTAL CUOTAS') && column.name === 'ITEM',  'row-center-2': row.item.includes('TOTAL RECAUDADO') && column.name === 'ITEM'}" [title]="value">{{value}}</span>
                                                        </div> -->
              
                                                      </ng-template>
                                                      <!-- <ngx-datatable-column prop="per1">
                                                        <ng-template let-row="row" ngx-datatable-cell-template>
                                                          {{row.per1 | currency:'S/.  ':'code'}}
                                                        </ng-template>
                                                      </ngx-datatable-column> -->
                                                    </ngx-datatable-column>
                                                  </ngx-datatable>
                                                  
                                                </div>
                                              </div>
                                              <div class="card">
                                                <div class="card-header" >
                                                  <div class="box-header">
                                                    <div class="toggle-table">
                                                      <div class="callout callout-info">
                                                        <h3 class="box-title">RANGO ETAREO</h3>
                                                      </div>
                                                      <button type="button" class="btn btn-outline-primary" (click)="collapse2.toggle()" [attr.aria-expanded]="!isCollapsed2"
                                                      aria-controls="collapseExample">
                                                      <i class="fa fa-minus" *ngIf="!isCollapsed2"> </i>
                                                      <i class="fa fa-plus" *ngIf="isCollapsed2"> </i> 
                                                      </button>
                                                    </div>
                                                  </div>
                                                </div>
                                                <div #collapse2="ngbCollapse" [(ngbCollapse)]="isCollapsed2">
                                                  <div class="row" style="align-items: center;justify-content: space-between;">
                                                    <ul class="list-group list-group-horizontal list-group-flush" style="flex-wrap: wrap;">
                                                      <li class="list-group-item border-0 pl-0">
                                                        <button class="btn btn-sm font-weight-bold btn-link" (click)="copyTableToClipboard(2)">
                                                          <i class="fa fa-external-link"></i>
                                                          Copiar tabla
                                                        </button>
                                                      </li>
                                                      <li class="list-group-item border-0 pl-0">
                                                        <button class="btn btn-sm font-weight-bold btn-link" (click)="exportToExcel(2)">
                                                          <i class="fa fa-external-link"></i>
                                                          Exportar tabla a Excel
                                                        </button>
                                                      </li>
                                                    </ul>
                                                    <div style="display:flex;align-items: center; justify-content:flex-end">
                                                        <!-- <select formControlName="especialidadNombre" class="form-control form-select" (change)="especialityChange($event.target.value)" style="width:auto!important;" [(ngModel)]="selectedOption" >
                                                          <option [value]="selectedOption" selected>{{selectedOption}}</option>
                                                        <option 
                                                          *ngFor="let especialidad of especialidades; let i=index"
                                                          [value]="especialidad.value"
                                                        >{{especialidad.value}}
                                                        </option>
                                                      </select> -->
                                                        <div class="" style="display:flex;margin:15px;align-items: center;">
                                                          <span>Buscar</span>&nbsp;&nbsp;
                                                            <input type="text" style='padding:6px;width:100%;' placeholder="por cualquier campo" (keyup)='updateFilter2($event)'>
                                                        </div>
                                                      </div>                                 
                                                  </div>
                                                  
                                                  <ngx-datatable #myTable2
                                                  class="bootstrap table table-striped"
                                                  id="datatablele"
                                                    [columns]="columns2"
                                                    [rows]="rows2"
                                                    [columnMode]="ColumnMode.flex"
                                                    [headerHeight]="50"
                                                    [rowHeight]="$any('auto')"
                                                    [scrollbarH]="true"
                                                    (page)="setPage($event)"
                                                    [rowClass] = "getRowClass2"
                                                    >
                                                    <ngx-datatable-column [flexGrow]="1" [minWidth]="90" *ngFor="let column of columns2; let i = index;" name="{{column.name}}" prop="{{column.prop}}">
                                                      <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                                        let-row="row">
                                                        <div>
                                                          <span  [title]="value">{{value}}</span>
                                                        </div>
                                                        <!-- <div [ngClass]="{'row-center': row.item.includes('TOTAL') && column.name === 'ITEM', 'row-background': row.item.includes('TOTAL')}">
                                                          <span  [ngClass]="{'row-paddin': row.item.includes('-') && column.name === 'ITEM', 'row-center': row.item.includes('TOTAL CUOTAS') && column.name === 'ITEM',  'row-center-2': row.item.includes('TOTAL RECAUDADO') && column.name === 'ITEM'}" [title]="value">{{value}}</span>
                                                        </div> -->
              
                                                      </ng-template>
                                                      <!-- <ngx-datatable-column prop="per1">
                                                        <ng-template let-row="row" ngx-datatable-cell-template>
                                                          {{row.per1 | currency:'S/.  ':'code'}}
                                                        </ng-template>
                                                      </ngx-datatable-column> -->
                                                    </ngx-datatable-column>
                                                  </ngx-datatable>
                                                  
                                                </div>
                                              </div>
                                              <div class="card">
                                                <div class="card-header" >
                                                  <div class="box-header">
                                                    <div class="toggle-table">
                                                      <div class="callout callout-info">
                                                        <h3 class="box-title">EMPRESAS</h3>
                                                      </div>
                                                      <button type="button" class="btn btn-outline-primary" (click)="collapse3.toggle()" [attr.aria-expanded]="!isCollapsed3"
                                                      aria-controls="collapseExample">
                                                      <i class="fa fa-minus" *ngIf="!isCollapsed3"> </i>
                                                      <i class="fa fa-plus" *ngIf="isCollapsed3"> </i> 
                                                      </button>
                                                    </div>
                                                  </div>
                                                </div>
                                                <div #collapse3="ngbCollapse" [(ngbCollapse)]="isCollapsed3">
                                                  <div class="row" style="align-items: center;justify-content: space-between;">
                                                    <div style='margin-left:15px;'>
                                                        <select class="form-control form-select" (change)="onLimitChange($event.target.value, '1')">
                                                        <option
                                                            *ngFor="let option of pageLimitOptions"
                                                            [value]="option.value"
                                                        >
                                                            {{ option.value }} Registros
                                                        </option>
                                                        <option value="0" *ngIf="this.page1.totalElements">Todos los Registros</option>
                                                        </select>
                                                    </div>
                                                    <ul class="list-group list-group-horizontal list-group-flush" style="flex-wrap: wrap;">
                                                      <li class="list-group-item border-0 pl-0">
                                                        <button class="btn btn-sm font-weight-bold btn-link" (click)="copyTableToClipboard(3)">
                                                          <i class="fa fa-external-link"></i>
                                                          Copiar tabla
                                                        </button>
                                                      </li>
                                                      <li class="list-group-item border-0 pl-0">
                                                        <button class="btn btn-sm font-weight-bold btn-link" (click)="exportToExcel(3)">
                                                          <i class="fa fa-external-link"></i>
                                                          Exportar tabla a Excel
                                                        </button>
                                                      </li>
                                                    </ul>
                                                    <div style="display:flex;align-items: center; justify-content:flex-end">
                                                      <select class="form-control form-select" style="width: auto!important;" (change)="tipoChange($event.target.value, 'empresas')" [(ngModel)]="selectedOptionTipo2">
                                                        <option value="cantidad">Cantidad</option>
                                                        <option value="soles">Soles</option>
                                                      </select>
                                                        <!-- <select formControlName="especialidadNombre" class="form-control form-select" (change)="especialityChange($event.target.value)" style="width:auto!important;" [(ngModel)]="selectedOption" >
                                                          <option [value]="selectedOption" selected>{{selectedOption}}</option>
                                                        <option 
                                                          *ngFor="let especialidad of especialidades; let i=index"
                                                          [value]="especialidad.value"
                                                        >{{especialidad.value}}
                                                        </option>
                                                      </select> -->
                                                        <div class="" style="display:flex;margin:15px;align-items: center;">
                                                          <span>Buscar</span>&nbsp;&nbsp;
                                                            <input type="text" style='padding:6px;width:100%;' placeholder="por cualquier campo" (keyup)='updateFilter3($event)'>
                                                        </div>
                                                      </div>                               
                                                  </div>
                                                  <ngx-datatable #myTable3
                                                  class="bootstrap table table-striped"
                                                  id="datatablele"
                                                    [columns]="columns3"
                                                    [rows]="rowsT1"
                                                    [columnMode]="ColumnMode.flex"
                                                    [headerHeight]="50"
                                                    [footerHeight]="65"
                                                    [rowHeight]="$any('auto')"
                                                    [scrollbarH]="true"
                                                    [loadingIndicator]="isLoading > 0"
                                                    [externalPaging]="true"
                                                    [externalSorting]="true"
                                                    [count]="totalElements1"
                                                    [offset]="pageNumber1"
                                                    (page)="setPage1($event)"
                                                    [summaryRow]="enableSummary"
                                                    [summaryPosition]="summaryPosition"
                                                    [summaryHeight]="55"
                                                    >
                                                    <ngx-datatable-column [flexGrow]="1"
                                                    [summaryFunc]="column.prop == 'GRUPOEM' || column.prop == 'TipoPacienteNombre' || column.prop == 'idEmpresa' ? summaryNull:summaryForAmount"
                                                    [minWidth]="90" *ngFor="let column of columns3; let i = index;" name="{{column.name}}" prop="{{column.prop}}">
                                                      <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                                        let-row="row">
                                                        <div>
                                                          <span  [title]="value">{{value}}</span>
                                                        </div>
                                                        <!-- <div [ngClass]="{'row-center': row.item.includes('TOTAL') && column.name === 'ITEM', 'row-background': row.item.includes('TOTAL')}">
                                                          <span  [ngClass]="{'row-paddin': row.item.includes('-') && column.name === 'ITEM', 'row-center': row.item.includes('TOTAL CUOTAS') && column.name === 'ITEM',  'row-center-2': row.item.includes('TOTAL RECAUDADO') && column.name === 'ITEM'}" [title]="value">{{value}}</span>
                                                        </div> -->
              
                                                      </ng-template>
                                                      <!-- <ngx-datatable-column prop="per1">
                                                        <ng-template let-row="row" ngx-datatable-cell-template>
                                                          {{row.per1 | currency:'S/.  ':'code'}}
                                                        </ng-template>
                                                      </ngx-datatable-column> -->
                                                    </ngx-datatable-column>
                                                  </ngx-datatable>
                                                  
                                                </div>
                                              </div>
                                              <div class="card">
                                                <div class="card-header" >
                                                  <div class="box-header">
                                                    <div class="toggle-table">
                                                      <div class="callout callout-info">
                                                        <h3 class="box-title">DIAGNOSTICO DE ALTA (Un paciente puede tener mas de un diagnostico)
                                                        </h3>
                                                      </div>
                                                      <button type="button" class="btn btn-outline-primary" (click)="collapse4.toggle()" [attr.aria-expanded]="!isCollapsed4"
                                                      aria-controls="collapseExample">
                                                      <i class="fa fa-minus" *ngIf="!isCollapsed4"> </i>
                                                      <i class="fa fa-plus" *ngIf="isCollapsed4"> </i> 
                                                      </button>
                                                    </div>
                                                  </div>
                                                </div>
                                                <div #collapse4="ngbCollapse" [(ngbCollapse)]="isCollapsed4">
                                                  <div class="row" style="align-items: center;justify-content: space-between;">
                                                    <div style='margin-left:15px;'>
                                                        <select class="form-control form-select" (change)="onLimitChange($event.target.value, '2')">
                                                        <option
                                                            *ngFor="let option of pageLimitOptions"
                                                            [value]="option.value"
                                                        >
                                                            {{ option.value }} Registros
                                                        </option>
                                                        <option value="0" *ngIf="this.page2.totalElements">Todos los Registros</option>
                                                        </select>
                                                    </div>
                                                    <ul class="list-group list-group-horizontal list-group-flush" style="flex-wrap: wrap;">
                                                      <li class="list-group-item border-0 pl-0">
                                                        <button class="btn btn-sm font-weight-bold btn-link" (click)="copyTableToClipboard(4)">
                                                          <i class="fa fa-external-link"></i>
                                                          Copiar tabla
                                                        </button>
                                                      </li>
                                                      <li class="list-group-item border-0 pl-0">
                                                        <button class="btn btn-sm font-weight-bold btn-link" (click)="exportToExcel(4)">
                                                          <i class="fa fa-external-link"></i>
                                                          Exportar tabla a Excel
                                                        </button>
                                                      </li>
                                                    </ul>
                                                    <div style="display:flex;align-items: center; justify-content:flex-end">
                                                        <!-- <select formControlName="especialidadNombre" class="form-control form-select" (change)="especialityChange($event.target.value)" style="width:auto!important;" [(ngModel)]="selectedOption" >
                                                          <option [value]="selectedOption" selected>{{selectedOption}}</option>
                                                        <option 
                                                          *ngFor="let especialidad of especialidades; let i=index"
                                                          [value]="especialidad.value"
                                                        >{{especialidad.value}}
                                                        </option>
                                                      </select> -->
                                                        <div class="" style="display:flex;margin:15px;align-items: center;">
                                                          <span>Buscar</span>&nbsp;&nbsp;
                                                            <input type="text" style='padding:6px;width:100%;' placeholder="por cualquier campo" (keyup)='updateFilter4($event)'>
                                                        </div>
                                                      </div>                             
                                                  </div>
                                                  
                                                  <ngx-datatable #myTable4
                                                  class="bootstrap table table-striped"
                                                  id="datatablele"
                                                    [columns]="columns4"
                                                    [rows]="rowsT2"
                                                    [columnMode]="ColumnMode.flex"
                                                    [headerHeight]="40"
                                                    [footerHeight]="65"
                                                    [rowHeight]="$any('auto')"
                                                    [scrollbarH]="true"
                                                    [loadingIndicator]="isLoading > 0"
                                                    [externalPaging]="true"
                                                    [externalSorting]="true"
                                                    [count]="totalElements2"
                                                    [offset]="pageNumber2"
                                                    (page)="setPage2($event)"
                                                    [summaryRow]="enableSummary"
                                                    [summaryPosition]="summaryPosition"
                                                    [summaryHeight]="55"
                                                    >
                                                    <ngx-datatable-column [flexGrow]="1" 
                                                    [summaryFunc]="column.prop == 'CIE10' ? summaryNull:summaryForAmount"
                                                    [minWidth]="90" *ngFor="let column of columns4; let i = index;" name="{{column.name}}" prop="{{column.prop}}">
                                                      <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                                        let-row="row">
                                                        <div>
                                                          <span  [title]="value">{{value}}</span>
                                                        </div>
                                                        <!-- <div [ngClass]="{'row-center': row.item.includes('TOTAL') && column.name === 'ITEM', 'row-background': row.item.includes('TOTAL')}">
                                                          <span  [ngClass]="{'row-paddin': row.item.includes('-') && column.name === 'ITEM', 'row-center': row.item.includes('TOTAL CUOTAS') && column.name === 'ITEM',  'row-center-2': row.item.includes('TOTAL RECAUDADO') && column.name === 'ITEM'}" [title]="value">{{value}}</span>
                                                        </div> -->
              
                                                      </ng-template>
                                                      <!-- <ngx-datatable-column prop="per1">
                                                        <ng-template let-row="row" ngx-datatable-cell-template>
                                                          {{row.per1 | currency:'S/.  ':'code'}}
                                                        </ng-template>
                                                      </ngx-datatable-column> -->
                                                    </ngx-datatable-column>
                                                  </ngx-datatable>
                                                  
                                                </div>
                                              </div>
                                              <div class="card">
                                                <div class="card-header" >
                                                  <div class="box-header">
                                                    <div class="toggle-table">
                                                      <div class="callout callout-info">
                                                        <h3 class="box-title">ESPECIALIDADES         *Seleccione la Especialidad para ver a los Medicos</h3>
                                                      </div>
                                                      <button type="button" class="btn btn-outline-primary" (click)="collapse5.toggle()" [attr.aria-expanded]="!isCollapsed5"
                                                      aria-controls="collapseExample">
                                                      <i class="fa fa-minus" *ngIf="!isCollapsed5"> </i>
                                                      <i class="fa fa-plus" *ngIf="isCollapsed5"> </i> 
                                                      </button>
                                                    </div>
                                                  </div>
                                                </div>
                                                <div #collapse5="ngbCollapse" [(ngbCollapse)]="isCollapsed5">
                                                  <div class="row" style="align-items: center;justify-content: space-between;">
                                                    <div style='margin-left:15px;'>
                                                        <select class="form-control form-select" (change)="onLimitChange($event.target.value, '3')">
                                                        <option
                                                            *ngFor="let option of pageLimitOptions"
                                                            [value]="option.value"
                                                        >
                                                            {{ option.value }} Registros
                                                        </option>
                                                        <option value="0" *ngIf="this.page3.totalElements">Todos los Registros</option>
                                                        </select>
                                                    </div>
                                                    <ul class="list-group list-group-horizontal list-group-flush" style="flex-wrap: wrap;">
                                                      <li class="list-group-item border-0 pl-0">
                                                        <button class="btn btn-sm font-weight-bold btn-link" (click)="copyTableToClipboard(5)">
                                                          <i class="fa fa-external-link"></i>
                                                          Copiar tabla
                                                        </button>
                                                      </li>
                                                      <li class="list-group-item border-0 pl-0">
                                                        <button class="btn btn-sm font-weight-bold btn-link" (click)="exportToExcel(5)">
                                                          <i class="fa fa-external-link"></i>
                                                          Exportar tabla a Excel
                                                        </button>
                                                      </li>
                                                    </ul>
                                                    <div style="display:flex;align-items: center; justify-content:flex-end">
                                                        <!-- <select formControlName="especialidadNombre" class="form-control form-select" (change)="especialityChange($event.target.value)" style="width:auto!important;" [(ngModel)]="selectedOption" >
                                                          <option [value]="selectedOption" selected>{{selectedOption}}</option>
                                                        <option 
                                                          *ngFor="let especialidad of especialidades; let i=index"
                                                          [value]="especialidad.value"
                                                        >{{especialidad.value}}
                                                        </option>
                                                      </select> -->
                                                        <div class="" style="display:flex;margin:15px;align-items: center;">
                                                          <span>Buscar</span>&nbsp;&nbsp;
                                                            <input type="text" style='padding:6px;width:100%;' placeholder="por cualquier campo" (keyup)='updateFilter5($event)'>
                                                        </div>
                                                      </div>                              
                                                  </div>
                                                  
                                                  <ngx-datatable #myTable5
                                                  class="bootstrap table table-striped"
                                                  id="datatablele"
                                                    [columns]="columns5"
                                                    [rows]="rowsT3"
                                                    [columnMode]="ColumnMode.flex"
                                                    [headerHeight]="50"
                                                    [footerHeight]="65"
                                                    [rowHeight]="$any('auto')"
                                                    [scrollbarH]="true"
                                                    [summaryRow]="enableSummary"
                                                    [summaryPosition]="summaryPosition"
                                                    [summaryHeight]="55"
                                                    [externalPaging]="true"
                                                    [externalSorting]="true"
                                                    [count]="totalElements3"
                                                    [offset]="pageNumber3"
                                                    (page)="setPage3($event)"
                                                    [selected]="selected"
                                                    [selectionType]="SelectionType.single"
                                                    (activate)="onActivate($event)"
                                                    (select)='onSelect($event)'
                                                    >
                                                    <ngx-datatable-column [flexGrow]="1" 
                                                    [summaryFunc]="summaryForAmount"
                                                    [minWidth]="90" *ngFor="let column of columns5; let i = index;" name="{{column.name}}" prop="{{column.prop}}">
                                                      <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                                        let-row="row">
                                                        <div>
                                                          <span  [title]="value">{{value}}</span>
                                                        </div>
                                                        <!-- <div [ngClass]="{'row-center': row.item.includes('TOTAL') && column.name === 'ITEM', 'row-background': row.item.includes('TOTAL')}">
                                                          <span  [ngClass]="{'row-paddin': row.item.includes('-') && column.name === 'ITEM', 'row-center': row.item.includes('TOTAL CUOTAS') && column.name === 'ITEM',  'row-center-2': row.item.includes('TOTAL RECAUDADO') && column.name === 'ITEM'}" [title]="value">{{value}}</span>
                                                        </div> -->
              
                                                      </ng-template>
                                                      <!-- <ngx-datatable-column prop="per1">
                                                        <ng-template let-row="row" ngx-datatable-cell-template>
                                                          {{row.per1 | currency:'S/.  ':'code'}}
                                                        </ng-template>
                                                      </ngx-datatable-column> -->
                                                    </ngx-datatable-column>
                                                  </ngx-datatable>
                                                  
                                                </div>
                                              </div>
                                              <div class="card" *ngIf="medicos">
                                                <div class="card-header" *ngIf="medicos">
                                                  <div class="box-header">
                                                    <div class="toggle-table">
                                                      <div class="callout callout-info">
                                                        <h3 class="box-title">MEDICOS</h3>
                                                      </div>
                                                      <button type="button" class="btn btn-outline-primary" (click)="collapse11.toggle()" [attr.aria-expanded]="!isCollapsed11"
                                                      aria-controls="collapseExample">
                                                      <i class="fa fa-minus" *ngIf="!isCollapsed11"> </i>
                                                      <i class="fa fa-plus" *ngIf="isCollapsed11"> </i> 
                                                      </button>
                                                    </div>
                                                  </div>
                                                </div>
                                                <div #collapse11="ngbCollapse" [(ngbCollapse)]="isCollapsed11">
                                                  <div class="row" style="align-items: center;justify-content: space-between;">
                                                    <div style='margin-left:15px;'>
                                                        <select class="form-control form-select" (change)="onLimitChange($event.target.value, '4')">
                                                        <option
                                                            *ngFor="let option of pageLimitOptions"
                                                            [value]="option.value"
                                                        >
                                                            {{ option.value }} Registros
                                                        </option>
                                                        <option value="0" *ngIf="this.page4.totalElements">Todos los Registros</option>
                                                        </select>
                                                    </div>
                                                    <ul class="list-group list-group-horizontal list-group-flush" style="flex-wrap: wrap;">
                                                      <li class="list-group-item border-0 pl-0">
                                                        <button class="btn btn-sm font-weight-bold btn-link" (click)="copyTableToClipboard(11)">
                                                          <i class="fa fa-external-link"></i>
                                                          Copiar tabla
                                                        </button>
                                                      </li>
                                                      <li class="list-group-item border-0 pl-0">
                                                        <button class="btn btn-sm font-weight-bold btn-link" (click)="exportToExcel(11)">
                                                          <i class="fa fa-external-link"></i>
                                                          Exportar tabla a Excel
                                                        </button>
                                                      </li>
                                                    </ul>
                                                    <div style="display:flex;align-items: center; justify-content:flex-end">
                                                        <!-- <select formControlName="especialidadNombre" class="form-control form-select" (change)="especialityChange($event.target.value)" style="width:auto!important;" [(ngModel)]="selectedOption" >
                                                          <option [value]="selectedOption" selected>{{selectedOption}}</option>
                                                        <option 
                                                          *ngFor="let especialidad of especialidades; let i=index"
                                                          [value]="especialidad.value"
                                                        >{{especialidad.value}}
                                                        </option>
                                                      </select> -->
                                                        <div class="" style="display:flex;margin:15px;align-items: center;">
                                                          <span>Buscar</span>&nbsp;&nbsp;
                                                            <input type="text" style='padding:6px;width:100%;' placeholder="por cualquier campo" (keyup)='updateFilter6($event)'>
                                                        </div>
                                                      </div>                              
                                                  </div>
                                                  
                                                  <ngx-datatable #myTable6
                                                  class="bootstrap table table-striped"
                                                  id="datatablele"
                                                    [columns]="columnsMedicos"
                                                    [loadingIndicator]="loading"
                                                    [rows]="rowsMedicos"
                                                    [columnMode]="ColumnMode.flex"
                                                    [headerHeight]="50"
                                                    [footerHeight]="65"
                                                    [rowHeight]="$any('auto')"
                                                    [scrollbarH]="true"
                                                    [limit]="page4.size"
                                                    >
                                                    <ngx-datatable-column [flexGrow]="1" [minWidth]="90" *ngFor="let column of columnsMedicos; let i = index;" name="{{column.name}}" prop="{{column.prop}}">
                                                      <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                                        let-row="row">
                                                        <div>
                                                          <span  [title]="value">{{value}}</span>
                                                        </div>
                                                        <!-- <div [ngClass]="{'row-center': row.item.includes('TOTAL') && column.name === 'ITEM', 'row-background': row.item.includes('TOTAL')}">
                                                          <span  [ngClass]="{'row-paddin': row.item.includes('-') && column.name === 'ITEM', 'row-center': row.item.includes('TOTAL CUOTAS') && column.name === 'ITEM',  'row-center-2': row.item.includes('TOTAL RECAUDADO') && column.name === 'ITEM'}" [title]="value">{{value}}</span>
                                                        </div> -->
              
                                                      </ng-template>
                                                      <!-- <ngx-datatable-column prop="per1">
                                                        <ng-template let-row="row" ngx-datatable-cell-template>
                                                          {{row.per1 | currency:'S/.  ':'code'}}
                                                        </ng-template>
                                                      </ngx-datatable-column> -->
                                                    </ngx-datatable-column>
                                                  </ngx-datatable>
                                                  
                                                </div>
                                              </div>
                                            </div>                       
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                </div>
                            </ng-template>
                        </li>
                        <li [ngbNavItem]="3">
                            <a ngbNavLink>Anual</a>
                            <ng-template ngbNavContent>
                                <div class="card">
                                    <div class="card-header">
                                      <h4 class="card-title" style="bottom:13px;">Atenciones por Emergencia</h4>
                                      <p>{{message}}</p>
                                    </div>
                                    <div class="card-content collapse show">
                                      <div class="card-body">
                                        <!-- <a class="btn btn-primary" id="downloadLink" (click)="exportexcel()">Exportar tabla a Excel</a>
                                        <a class="btn btn-primary" id="downloadLink" (click)="copyTableToClipboard()">Copiar tabla</a> -->
                                        <div class="table table-striped table-bordered selection-deletion-row">
                                          <!-- <div class="row" style='margin-left:0px;'>
                                            <div class="col-xs-6">
                                              <select class="form-control form-select" (change)="onLimitChange($event.target.value)">
                                                <option
                                                  *ngFor="let option of pageLimitOptions"
                                                  [value]="option.value"
                          
                                                >
                                                  {{ option.value }} Registros
                                                </option>
                                                <option value="0" *ngIf="this.page.totalElements">Todos los Registros</option>
                                              </select>
                                            </div>
                                          </div> -->
                                          <div class="box box-solid">
                                            <div id="accordion2">
                                              <div class="card">
                                                <div class="card-header" >
                                                  <div class="box-header">
                                                    <div class="toggle-table">
                                                      <div class="callout callout-info">
                                                        <h3 class="box-title"></h3>
                                                      </div>
                                                      <button type="button" class="btn btn-outline-primary" (click)="collapse6.toggle()" [attr.aria-expanded]="!isCollapsed6"
                                                      aria-controls="collapseExample">
                                                      <i class="fa fa-minus" *ngIf="!isCollapsed6"> </i>
                                                      <i class="fa fa-plus" *ngIf="isCollapsed6"> </i> 
                                                      </button>
                                                    </div>
                                                  </div>
                                                </div>
                                                <div #collapse6="ngbCollapse" [(ngbCollapse)]="isCollapsed6">
                                                  <div class="row" style="align-items: center;justify-content: space-between;">

                                                    <ul class="list-group list-group-horizontal list-group-flush" style="flex-wrap: wrap;">
                                                      <li class="list-group-item border-0 pl-0">
                                                        <button class="btn btn-sm font-weight-bold btn-link" (click)="copyTableToClipboard(6)">
                                                          <i class="fa fa-external-link"></i>
                                                          Copiar tabla
                                                        </button>
                                                      </li>
                                                      <li class="list-group-item border-0 pl-0">
                                                        <button class="btn btn-sm font-weight-bold btn-link" (click)="exportToExcel(6)">
                                                          <i class="fa fa-external-link"></i>
                                                          Exportar tabla a Excel
                                                        </button>
                                                      </li>
                                                    </ul>
                                                    <div style="display:flex;align-items: center; justify-content:flex-end">
                                                      <select class="form-control form-select" style="width: auto!important;" (change)="tipoChange($event.target.value, 'pacientesAnual')" [(ngModel)]="selectedOptionTipo3">
                                                        <option value="cantidad">Cantidad</option>
                                                        <option value="soles">Soles</option>
                                                      </select>
                                                        <!-- <select formControlName="especialidadNombre" class="form-control form-select" (change)="especialityChange($event.target.value)" style="width:auto!important;" [(ngModel)]="selectedOption" >
                                                          <option [value]="selectedOption" selected>{{selectedOption}}</option>
                                                        <option 
                                                          *ngFor="let especialidad of especialidades; let i=index"
                                                          [value]="especialidad.value"
                                                        >{{especialidad.value}}
                                                        </option>
                                                      </select> -->
                                                        <div class="" style="display:flex;margin:15px;align-items: center;">
                                                          <span>Buscar</span>&nbsp;&nbsp;
                                                            <input type="text" style='padding:6px;width:100%;' placeholder="por cualquier campo" (keyup)='updateFilter7($event)'>
                                                        </div>
                                                    </div>                               
                                                  </div>
                                                  
                                                  <ngx-datatable #myTable7
                                                  class="bootstrap table table-striped"
                                                  id="datatablele"
                                                    [columns]="columns6"
                                                    [rows]="rows6filtered"
                                                    [columnMode]="ColumnMode.flex"
                                                    [headerHeight]="50"
                                                    [rowHeight]="$any('auto')"
                                                    [scrollbarH]="true"
                                                    (page)="setPage($event)"
                                                    [selected]="selected"
                                                    [selectionType]="SelectionType.single"
                                                    (select)='open($event)'
                                                    [rowClass] = "getRowClass1"
                                                    >
                                                    <ngx-datatable-column [flexGrow]="1" [minWidth]="90" *ngFor="let column of columns6; let i = index;" name="{{column.name}}" prop="{{column.prop}}">
                                                      <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                                        let-row="row">
                                                         
                                                        <div *ngIf="column.prop !== 'MEDICO'">
                                                          <span  [title]="value">{{value}}</span>
                                                        </div>
                                                        <div *ngIf="column.prop === 'MEDICO'">
                                                          <span  [title]="value"><a href="javascript:;" (click)="open($event, content)" style="color: #4B9FDE;">{{value}}</a></span>
                                                        </div>
                                                        <!-- <div [ngClass]="{'row-center': row.item.includes('TOTAL') && column.name === 'ITEM', 'row-background': row.item.includes('TOTAL')}">
                                                          <span  [ngClass]="{'row-paddin': row.item.includes('-') && column.name === 'ITEM', 'row-center': row.item.includes('TOTAL CUOTAS') && column.name === 'ITEM',  'row-center-2': row.item.includes('TOTAL RECAUDADO') && column.name === 'ITEM'}" [title]="value">{{value}}</span>
                                                        </div> -->
              
                                                      </ng-template>
                                                      <!-- <ngx-datatable-column prop="per1">
                                                        <ng-template let-row="row" ngx-datatable-cell-template>
                                                          {{row.per1 | currency:'S/.  ':'code'}}
                                                        </ng-template>
                                                      </ngx-datatable-column> -->
                                                    </ngx-datatable-column>
                                                  </ngx-datatable>
                                                  <ng-template #content let-modal>
                                                    <div class="modal-header">
                                                      <p class="modal-title" id="modal-basic-title"><b>MÉDICO:</b> {{Medico}} -  <b>CMP:</b> {{CMP}}</p>
                                                      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                                                        <span aria-hidden="true">&times;</span>
                                                      </button>
                                                    </div>
                                                    <div class="modal-body">
                                                      <ngx-datatable #myTable11
                                                  class="bootstrap table table-striped"
                                                  id="datatablele"
                                                    [columns]="columnsMedicoRecord"
                                                    [loadingIndicator]="loading"
                                                    [rows]="rowsMedicoRecord"
                                                    [columnMode]="ColumnMode.flex"
                                                    [headerHeight]="50"
                                                    [footerHeight]="50"
                                                    [rowHeight]="$any('auto')"
                                                    [scrollbarH]="true"
                                                    [limit]="5"
                                                    >
                                                    <ngx-datatable-column [flexGrow]="1" [minWidth]="90" *ngFor="let column of columnsMedicoRecord; let i = index;" name="{{column.name}}" prop="{{column.prop}}">
                                                      <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                                        let-row="row">
                                                        <div>
                                                          <span  [title]="value">{{value}}</span>
                                                        </div>
                                                      </ng-template>
                                                    </ngx-datatable-column>
                                                  </ngx-datatable>
                                                  
                                                    </div>
                                                    <div class="modal-footer">
                                                      <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Cerrar</button>
                                                    </div>
                                                  </ng-template>
                                                </div>
                                              </div>
                                              <div class="card">
                                                <div class="card-header" >
                                                  <div class="box-header">
                                                    <div class="toggle-table">
                                                      <div class="callout callout-info">
                                                        <h3 class="box-title"></h3>
                                                      </div>
                                                      <button type="button" class="btn btn-outline-primary" (click)="collapse7.toggle()" [attr.aria-expanded]="!isCollapsed7"
                                                      aria-controls="collapseExample">
                                                      <i class="fa fa-minus" *ngIf="!isCollapsed7"> </i>
                                                      <i class="fa fa-plus" *ngIf="isCollapsed7"> </i> 
                                                      </button>
                                                    </div>
                                                  </div>
                                                </div>
                                                <div #collapse7="ngbCollapse" [(ngbCollapse)]="isCollapsed7">
                                                  <div class="row" style="align-items: center;justify-content: space-between;">
                                                    <ul class="list-group list-group-horizontal list-group-flush" style="flex-wrap: wrap;">
                                                      <li class="list-group-item border-0 pl-0">
                                                        <button class="btn btn-sm font-weight-bold btn-link" (click)="copyTableToClipboard(7)">
                                                          <i class="fa fa-external-link"></i>
                                                          Copiar tabla
                                                        </button>
                                                      </li>
                                                      <li class="list-group-item border-0 pl-0">
                                                        <button class="btn btn-sm font-weight-bold btn-link" (click)="exportToExcel(7)">
                                                          <i class="fa fa-external-link"></i>
                                                          Exportar tabla a Excel
                                                        </button>
                                                      </li>
                                                    </ul>                                  
                                                  </div>
                                                  
                                                  <ngx-datatable #myTable8
                                                  class="bootstrap table table-striped"
                                                  id="datatablele"
                                                    [columns]="columns7"
                                                    [rows]="rows7"
                                                    [columnMode]="ColumnMode.flex"
                                                    [headerHeight]="50"
                                                    [rowHeight]="$any('auto')"
                                                    [scrollbarH]="true"
                                                    (page)="setPage($event)"
                                                    [rowClass] = "getRowClass2"
                                                    >
                                                    <ngx-datatable-column [flexGrow]="1" [minWidth]="90" *ngFor="let column of columns7; let i = index;" name="{{column.name}}" prop="{{column.prop}}">
                                                      <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                                        let-row="row">
                                                        <div>
                                                          <span  [title]="value">{{value}}</span>
                                                        </div>
                                                      </ng-template>
                                                    </ngx-datatable-column>
                                                  </ngx-datatable>
                                                  
                                                </div>
                                              </div>
                                            </div>                       
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                </div>
                                
                            </ng-template>
                        </li>
                    </ul>
                    <div [ngbNavOutlet]="nav" class="mt-2"></div>
                </div>
            </div>
        </section>
      </div>
    </div>
</div>