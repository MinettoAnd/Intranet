
<div class="app-content content">
    <div class="content-wrapper">
      <div class="content-header row mb-1">
        <app-breadcrumb class="col-12" [breadcrumb]="breadcrumb"></app-breadcrumb>
      </div>
      <div class="content-body">
        <section id="selection-n-deletion">
          <div class="row">
  
            <div class="col-12">
              <form [formGroup]="filtroForm">
                <div class="row" style="margin-bottom: -0.5rem;">
                  <div class="form-group col-sm-12 col-md-4 col-lg-3">
                    <div class="input-group input-group-sm">
                      <div class="input-group-append">
                        <span class="input-group-text">Sedes</span>
                      </div>
                      <select
                        class="form-control form-select"
                        formControlName="id_sede"
                        id="inputGroupSelect04"
                        (change)="onSedeChange($event.target.value)"
                      >
                        <option value="0000">Todos</option>
                        <option value="0001">Lima</option>
                        <option value="0002">Chorrillos</option>
                        <option value="0004">Surco</option>
                      </select>
                    </div>
                  </div>  
                  <div class="form-group col-sm-12 col-md-4 col-lg-3">
                    <div class="input-group input-group-sm">
                      <div class="input-group-prepend">
                        <span class="input-group-text">Año</span>
                      </div>
                      <!-- <input
                        type="date"
                        formControlName="mes"
                        class="form-control"
                      /> -->
                      <select formControlName="anio" class="form-control form-select" (change)="onAnioChange($event.target.value)">
                        <option
                          *ngFor="let option of optionsAnio"
                          [value]="option.value"
                        >
                          {{ option.label }}
                        </option>
                    </select>
                    </div>
                  </div>
      
                  <div class="form-group col-sm-12 col-md-4 col-lg-3">
                    <div class="input-group input-group-sm">
                      <div class="input-group-prepend">
                        <span class="input-group-text">Mes</span>
                      </div>
                      <!-- <input
                        type="date"
                        formControlName="anio"
                        class="form-control"
                      /> -->
                      <select formControlName="mes" class="form-control form-select" (change)="onMesChange($event.target.value)">
                        <option
                          *ngFor="let option of optionsMes"
                          [value]="option.value"
                        >
                          {{ option.label }}
                        </option>
                    </select>
                    </div>
                  </div>
                  
                  <div class="form-group col-sm-12 col-md-4 col-lg-2">
                    <div class="input-group">
                      <div class="input-group-btn">
                        <button (click)="filter()" class="btn btn-sm btn-primary">
                          <i class="fa fa-search"></i> Filtrar
                        </button>
                      </div>
                    </div>
                  </div>           
                </div>
              </form>
              <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs" style="justify-content: end;">
                <li [ngbNavItem]="1">
                  <a ngbNavLink>MES SELECCIONADO</a>
                  <ng-template ngbNavContent>
                   
                    <div class="card">
                     
                      <div class="card-header">
                        <h4 class="card-title" style="bottom:13px;">INGRESOS POR CUOTAS E INSCRIPCIONES DE PLAN SALUD FAMILIAR</h4>
                        <p>{{message}}</p>
                        <div class="col-md-12" id="div_panel_01_cabecera1">
                          <div class="col-md-3 col-sm-6 col-xs-12" id="div_panel_01_cabecera1_0">
                             <div class="info-box">
                                <span style="background: #10004C !important; color:#fff !important;" class="info-box-icon">
                                  <i class="fa fa-calendar-check-o" aria-hidden="true"></i>
                                </span>		
                                <div class="info-box-content">
                                  <span style="font-family:arial; font-size:15px; " class="info-box-text" id="box_titulo_01">OCUPABILIDAD DE ATENCIONES</span>
                                    <span *ngIf="resumenMes.promMesUso" class="info-box-number" id="imp_total_01">{{resumenMes.promMesUso | number : '1.2-2' }} % ( {{resumenMes.minutosAtendidos_xDia}} )</span>
                                    <label style="position:relative; top:13px; font-size:12px; display: flex;
                                    justify-content: space-around;" class="label label-pill label-success" id="porc_imp_total_01">Tiempo de atención / 12 horas x dia
                                    <span role="button" class="badge question" title="Tiempo de atención por turno en el mes / 12 horas x dia ">?</span></label>
                                </div>
                             </div>
                          </div>
                          <div class="col-md-3 col-sm-6 col-xs-12" id="div_panel_01_cabecera1_1">
                             <div class="info-box">
                                <span style="background: #57AA50 !important; color:#fff !important;" class="info-box-icon">			
                                  <i class="fa fa-plus-circle" aria-hidden="true"></i>		</span>		
                                <div class="info-box-content">			<span style="font-family:arial; font-size:15px; " class="info-box-text" id="box_titulo_02">OCUPABILIDAD DEL CONSULTORIO</span>			<span *ngIf="resumenMes.ocupabilidad" class="info-box-number" id="imp_total_02">{{resumenMes.ocupabilidad | number : '1.2-2' }} % ( {{resumenMes.minutosProgramados_xDia}} )</span>			
                                  <label style="position:relative; top:13px; font-size:12px; display: flex;
                                    justify-content: space-around;" class="label label-pill label-success" id="porc_imp_total_01">Tiempo de atención / 12 horas x dia
                                    <span role="button" class="badge question" title="Tiempo programado por turno en el mes / 12 horas x dia">?</span></label>		</div>
                             </div>
                          </div>
                          <div class="col-md-3 col-sm-6 col-xs-12" id="div_panel_01_cabecera1_2">
                             <div class="info-box">
                                <span style="background: #FF3636 !important; color:#fff !important;" class="info-box-icon">			
                                  <i class="fa fa-medkit" aria-hidden="true"></i>		</span>		
                                <div class="info-box-content">			<span style="font-family:arial; font-size:15px; " class="info-box-text" id="box_titulo_03">OCUPABILIDAD DEL TURNO</span>			
                                <span *ngIf="resumenMes.usoEfectivoTurno" class="info-box-number" id="imp_total_03">{{resumenMes.usoEfectivoTurno | number : '1.2-2' }} % ( {{resumenMes.promMinutosAtendidos}} )</span>			<label style="position:relative; top:13px; font-size:12px; display: flex;
                                  justify-content: space-around;" class="label label-pill label-success" id="porc_imp_total_01">Tiempo de atención / 12 horas x dia
                                  <span role="button" class="badge question" title="Tiempo de atención por turno en el mes / Tiempo Programado por turno en el mes">?</span></label>		</div>
                             </div>
                          </div>
                          <div class="col-md-3 col-sm-6 col-xs-12" id="div_panel_01_cabecera1_3">
                             <div class="info-box">
                                <span style="background: #FFAA00 !important; color:#fff !important;" class="info-box-icon">			
                                  <i class="fa fa-institution" aria-hidden="true"></i>		</span>		
                                <div class="info-box-content">			<span style="font-family:arial; font-size:15px; " class="info-box-text" id="box_titulo_04">NRO CONSULTORIOS</span>			
                                  <span *ngIf="resumenMes.nro_consultorios" class="info-box-number" id="imp_total_04">{{resumenMes.nro_consultorios}} en {{resumenMes.diasPeriodo}} del mes</span>			
                                  <label style="position:relative; top:13px; font-size:12px;" class="label label-pill label-success" id="porc_imp_total_04">En {{resumenMes.nro_consultorios_maestro}} físicos Existentes</label>		</div>
                             </div>
                          </div>
                        </div>
                        <div class="col-md-12" id="div_panel_01_cabecera1">
                          <div class="col-md-3 col-sm-6 col-xs-12" id="div_panel_01_cabecera1_0">
                             <div class="info-box">
                                <span style="background: #10004C !important; color:#fff !important;" class="info-box-icon">
                                  <i class="fa fa-money" aria-hidden="true"></i>
                                </span>		
                                <div class="info-box-content">
                                  <span style="font-family:arial; font-size:15px; " class="info-box-text" id="box_titulo_01">ATENCIONES</span>
                                    <span *ngIf="resumenMes.nro_atendidos" class="info-box-number" id="imp_total_01">{{resumenMes.nro_atendidos}} (Con {{resumenMes.pacientes_unicos_atendidos}} atendidos)</span>
                                      <label style="position:relative; top:13px; font-size:12px;" class="label label-pill label-success" id="porc_imp_total_01">En {{(resumenMes.nro_atendidos / resumenMes.pacientes_unicos_atendidos) | number : '1.2-2' }} Atención por pacientes</label>
                                </div>
                             </div>
                          </div>
                          <div class="col-md-3 col-sm-6 col-xs-12" id="div_panel_01_cabecera1_1">
                             <div class="info-box">
                                <span style="background: #63B6DE !important; color:#fff !important;" class="info-box-icon">			<i class="fa fa-users" aria-hidden="true"></i>		</span>		
                                <div class="info-box-content">			<span style="font-family:arial; font-size:15px; " class="info-box-text" id="box_titulo_02">PROMEDIO DE ATENCIÓN</span>			
                                  <span *ngIf="resumenMes.nro_atendidos_xdia" class="info-box-number" id="imp_total_02">{{resumenMes.nro_atendidos_xdia | number : '1.2-2'}} pacientes por día</span>			
                                  <label style="position:relative; top:13px; font-size:12px;" class="label label-pill label-success" id="porc_imp_total_02">{{resumenMes.nro_atendidos_xturno | number : '1.2-2'}} pacientes por turno</label>		</div>
                             </div>
                          </div>
                          <div class="col-md-3 col-sm-6 col-xs-12" id="div_panel_01_cabecera1_2">
                             <div class="info-box">
                                <span style="background: #2F50F1 !important; color:#fff !important;" class="info-box-icon">			<i class="fa fa-building-o" aria-hidden="true"></i>		</span>		
                                <div class="info-box-content">			
                                  <span style="font-family:arial; font-size:15px; " class="info-box-text" id="box_titulo_03">PROMEDIO DE TURNOS</span>			
                                  <span *ngIf="resumenMes.promTurnosxDia" class="info-box-number" id="imp_total_03">{{resumenMes.promTurnosxDia | number : '1.2-2'}} por consultorio al día</span>			
                                  <label style="position:relative; top:13px; font-size:12px; display: flex;
                                  justify-content: space-around;" class="label label-pill label-success" id="porc_imp_total_01">{{resumenMes.tiempoxTurno}} por turno
                                  <span role="button" class="badge question" title="Promedio por turno en el mes seleccionado ">?</span></label>		</div>
                             </div>
                          </div>
                        </div>
                      </div>
                      <div class="card-content collapse show">
                        <div class="card-body">
                          <!-- <a class="btn btn-primary" id="downloadLink" (click)="exportexcel()">Exportar tabla a Excel</a>
                          <a class="btn btn-primary" id="downloadLink" (click)="copyTableToClipboard()">Copiar tabla</a> -->
                          
                          <div class="table table-striped table-bordered selection-deletion-row">
                              
                            <!-- <div class="row" style='margin-left:0px;'>
                              <div class="col-xs-6">
                                <select class="form-control form-select" (change)="onLimitChange($event.target.value)">
                                  <option
                                    *ngFor="let option of pageLimitOptions"
                                    [value]="option.value"
            
                                  >
                                    {{ option.value }} Registros
                                  </option>
                                  <option value="0" *ngIf="this.page.totalElements">Todos los Registros</option>
                                </select>
                              </div>
                            </div> -->
                            <div class="box box-solid">
                              
                              <div id="accordion">
                               
                                <div class="card">
                                  <div class="card-header" >
                                    <div class="box-header">
                                      
                                      <div class="toggle-table">
                                        <div class="callout callout-info">
                                          <h3 class="box-title" id="Title_div_tabla_01">OCUPABILIDAD DEL CONSULTORIO EN EL PERIODO SELECCIONADO</h3>
                                        </div>
                                        <button type="button" class="btn btn-outline-primary" (click)="collapse.toggle()" [attr.aria-expanded]="!isCollapsed"
                                        aria-controls="collapseExample">
                                        <i class="fa fa-minus" *ngIf="!isCollapsed"> </i>
                                        <i class="fa fa-plus" *ngIf="isCollapsed"> </i> 
                                        </button>
                                      </div>
                                    </div>
                                  </div>
                              
                                  <div #collapse="ngbCollapse" [(ngbCollapse)]="isCollapsed">
                                    <div class="row" style="align-items: center;justify-content: space-between;">
                                      <ul class="list-group list-group-horizontal list-group-flush" style="flex-wrap: wrap;">
                                        <li class="list-group-item border-0 pl-0">
                                          <button class="btn btn-sm font-weight-bold btn-link" (click)="copyTableToClipboard(1)">
                                            <i class="fa fa-external-link"></i>
                                            Copiar tabla
                                          </button>
                                        </li>
                                        <li class="list-group-item border-0 pl-0">
                                          <button class="btn btn-sm font-weight-bold btn-link" (click)="exportToExcel(1)">
                                            <i class="fa fa-external-link"></i>
                                            Exportar tabla a Excel
                                          </button>
                                        </li>
                                        <!-- <li class="list-group-item border-0 pl-0">
                                          
                                          <button type="button" (click)="showTableDasboard(1, 1)"
                                            class="btn-shadow mr-3 btn btn-info">
                                            <i class="pe-7s-credit"></i>
                                          </button>
                                          <button type="button" (click)="showTableDasboard(1, 2)" class="btn-shadow btn btn-info float-right">
                                            <i class="pe-7s-graph3"></i>
                                          </button>
                                        </li> -->
                                        
                                      </ul>                                  
                                    </div>
                                    
                                    <ngx-datatable #myTable
                                    class="bootstrap table table-striped"
                                    id="datatablele"
                                      [columns]="columns"
                                      [rows]="rows"
                                      [columnMode]="ColumnMode.force"
                                      [headerHeight]="50"
                                      [rowHeight]="40"
                                      [scrollbarH]="true"
                                      (page)="setPage($event)"
                                      
                                      *ngIf="isTable1"
                                      >
                                      <ngx-datatable-column [flexGrow]="1" [minWidth]="90" *ngFor="let column of columns; let i = index;" name="{{column.name}}" prop="{{column.prop}}">
                                        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                          let-row="row">
                                          <div>
                                            <span  [title]="value">{{value}}</span>
                                          </div>
                                          <!-- <div [ngClass]="{'row-center': row.item.includes('TOTAL') && column.name === 'ITEM', 'row-background': row.item.includes('TOTAL')}">
                                            <span  [ngClass]="{'row-paddin': row.item.includes('-') && column.name === 'ITEM', 'row-center': row.item.includes('TOTAL CUOTAS') && column.name === 'ITEM',  'row-center-2': row.item.includes('TOTAL RECAUDADO') && column.name === 'ITEM'}" [title]="value">{{value}}</span>
                                          </div> -->

                                        </ng-template>
                                        <!-- <ngx-datatable-column prop="per1">
                                          <ng-template let-row="row" ngx-datatable-cell-template>
                                            {{row.per1 | currency:'S/.  ':'code'}}
                                          </ng-template>
                                        </ngx-datatable-column> -->
                                      </ngx-datatable-column>
                                    </ngx-datatable>
                                    <div style="display:flex">
                                      <div class="card-body">
                                        <div class="d-block" *ngFor="let percentageCompleted of barChartData; let i = index;">
                                          <span style="display:flex; justify-content: space-between;"><i>{{barChartLabels[i]}}</i><i>{{percentageCompleted}} %</i></span>
                                            <ngb-progressbar
                                                [type]="color[i]"
                                                [value]="percentageCompleted"
                                                [striped]="true"
                                                [animated]="true">
                                            </ngb-progressbar>
                                            <p></p>
                                        </div>
                                      </div>
                                      <div class="card-body">
                                        <div class="d-block" *ngFor="let percentageCompleted of barChartData2; let i = index;">
                                          <span style="display:flex; justify-content: space-between;"><i>{{barChartLabels[i]}}</i><i>{{percentageCompleted}} %</i></span>
                                          <ngb-progressbar
                                              [type]="color[i]"
                                              [value]="percentageCompleted"
                                              [striped]="true"
                                              [animated]="true">
                                          </ngb-progressbar>
                                          <p></p>
                                      </div>
                                      </div>
                                      <div class="card-body">
                                        <div class="d-block" *ngFor="let percentageCompleted of barChartData3; let i = index;">
                                          <span style="display:flex; justify-content: space-between;"><i>{{barChartLabels[i]}}</i><i>{{percentageCompleted}} %</i></span>
                                          <ngb-progressbar
                                            [type]="color[i]"
                                            [value]="percentageCompleted"
                                            [striped]="true"
                                            [animated]="true">
                                            <i>{{percentageCompleted}}</i>
                                          </ngb-progressbar>
                                          <p></p>
                                        </div>
                                      </div>
                                    </div>
                                    
                                  </div>
                                </div>
                                
                                
                              </div>                       
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </li>
                <li [ngbNavItem]="2">
                  <a ngbNavLink>RESUMEN ANUAL</a>
                  <ng-template ngbNavContent>
                    <div class="card">
                      <div class="card-header">
                        <h4 class="card-title" style="bottom:13px;">INGRESOS POR CUOTAS E INSCRIPCIONES DE PLAN SALUD FAMILIAR</h4>
                        <p>{{message}}</p>
                      </div>
                      <div class="card-content collapse show">
                        <div class="card-body">
                          <!-- <a class="btn btn-primary" id="downloadLink" (click)="exportexcel()">Exportar tabla a Excel</a>
                          <a class="btn btn-primary" id="downloadLink" (click)="copyTableToClipboard()">Copiar tabla</a> -->
                          
                          <div class="table table-striped table-bordered selection-deletion-row">
                              
                            <!-- <div class="row" style='margin-left:0px;'>
                              <div class="col-xs-6">
                                <select class="form-control form-select" (change)="onLimitChange($event.target.value)">
                                  <option
                                    *ngFor="let option of pageLimitOptions"
                                    [value]="option.value"
            
                                  >
                                    {{ option.value }} Registros
                                  </option>
                                  <option value="0" *ngIf="this.page.totalElements">Todos los Registros</option>
                                </select>
                              </div>
                            </div> -->
                            <div class="box box-solid">
                              
                              <div id="accordion2">
                                <div class="card">
                                  <div class="card-header" >
                                    <div class="box-header">
                                      
                                      <div class="toggle-table">
                                        <div class="callout callout-info">
                                          <h3 class="box-title" id="Title_div_tabla_04">INGRESO SIN IGV</h3>
                                        </div>
                                        <button type="button" class="btn btn-outline-primary" (click)="collapse4.toggle()" [attr.aria-expanded]="!isCollapsed4"
                                        aria-controls="collapseExample">
                                        <i class="fa fa-minus" *ngIf="!isCollapsed4"> </i>
                                        <i class="fa fa-plus" *ngIf="isCollapsed4"> </i> 
                                        </button>
                                      </div>
                                    </div>
                                  </div>
                              
                                  <div #collapse4="ngbCollapse" [(ngbCollapse)]="isCollapsed4">
                                    <div class="row" style="align-items: center;justify-content: space-between;">
                                      <ul class="list-group list-group-horizontal list-group-flush" style="flex-wrap: wrap;">
                                        <li class="list-group-item border-0 pl-0">
                                          <button class="btn btn-sm font-weight-bold btn-link" (click)="copyTableToClipboard(4)">
                                            <i class="fa fa-external-link"></i>
                                            Copiar tabla
                                          </button>
                                        </li>
                                        <li class="list-group-item border-0 pl-0">
                                          <button class="btn btn-sm font-weight-bold btn-link" (click)="exportToExcel(4)">
                                            <i class="fa fa-external-link"></i>
                                            Exportar tabla a Excel
                                          </button>
                                        </li>
                                        <li class="list-group-item border-0 pl-0">
                                          <button type="button" (click)="showTableDasboard(4, 1)"
                                            class="btn-shadow mr-3 btn btn-info">
                                            <i class="pe-7s-credit"></i>
                                          </button>
                                          <button type="button" (click)="showTableDasboard(4, 2)" class="btn-shadow btn btn-info float-right">
                                            <i class="pe-7s-graph3"></i>
                                          </button>
                                        </li>
                                      </ul>
                                      <!-- <div class="" style="display:flex;margin:15px;align-items: center;">
                                        <span>Buscar</span>&nbsp;&nbsp;
                                          <input type="text" style='padding:6px;width:100%;' placeholder="por cualquier campo" (keyup)='updateFilter($event)'>
                                      </div> -->
                                    
                                    </div>
                                    <div class="card-body" *ngIf="isGrafico4">
                                      <loading *ngIf="isLoading4">{{ isLoading4 }}</loading>
                                      <div class="d-block" *ngIf="!isLoading4">
                                        <canvas #baseChart id="chart-4">
                                        </canvas>
                                      </div>
                                    </div>
                                    <ngx-datatable #myTable4
                                    class="bootstrap table table-striped"
                                      [columns]="columns3"
                                      [rows]="rows4"
                                      [columnMode]="ColumnMode.flex"
                                      [headerHeight]="50"
                                      [scrollbarH]="true"
                                      (page)="setPage($event)"
                                      [rowClass]="getRowClass"
                                      [rowHeight]="$any('auto')"
                                      *ngIf="isTable4"
                                      >
                                      <ngx-datatable-column [sortable]="false" [flexGrow]="1" [minWidth]="90" *ngFor="let column of columns3; let i = index;" name="{{column.name}}" prop="{{column.prop}}" >
                                        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                          let-row="row">
                                          <div [ngClass]="{'row-center': row.item.includes('TOTAL') && column.name === 'ITEM'}">
                                            <span  [ngClass]="{'row-paddin': row.item.includes('-') || row.item.includes('TRABAJADORES') || row.item.includes('SOCIOS') && column.name === 'ITEM'}" [title]="value">{{value}}</span>
                                          </div>
                                          
                                          <!-- <span title="Double click to edit" (dblclick)="editing[rowIndex + '-{{column.name}}'] = true"
                                            *ngIf="!editing[rowIndex + '-{{column.name}}']">
                                            {{value}}
                                          </span>
                                          <input autofocus (blur)="updateValue($event, '{{column.name}}', rowIndex)"
                                            *ngIf="editing[rowIndex+ '-{{column.name}}']" type="text" [value]="value" /> -->
                                        </ng-template>
                                      </ngx-datatable-column>
                                    </ngx-datatable>
                                  </div>
                                </div>
                                <div class="card">
                                  <div class="card-header" >
                                    <div class="box-header">
                                      
                                      <div class="toggle-table">
                                        <div class="callout callout-info">
                                          <h3 class="box-title" id="Title_div_tabla_05">INGRESO CON IGV</h3>
                                        </div>
                                        <button type="button" class="btn btn-outline-primary" (click)="collapse5.toggle()" [attr.aria-expanded]="!isCollapsed5"
                                          aria-controls="collapseExample">
                                          <i class="fa fa-minus" *ngIf="!isCollapsed5"> </i>
                                          <i class="fa fa-plus" *ngIf="isCollapsed5"> </i> 
                                        </button>
                                      </div>
                                    </div>
                                  </div>
                              
                                  <div #collapse5="ngbCollapse" [(ngbCollapse)]="isCollapsed5">
                                    <div class="row" style="align-items: center;justify-content: space-between;">
                                      <ul class="list-group list-group-horizontal list-group-flush" style="flex-wrap: wrap;">
                                        <li class="list-group-item border-0 pl-0">
                                          <button class="btn btn-sm font-weight-bold btn-link" (click)="copyTableToClipboard(5)">
                                            <i class="fa fa-external-link"></i>
                                            Copiar tabla
                                          </button>
                                        </li>
                                        <li class="list-group-item border-0 pl-0">
                                          <button class="btn btn-sm font-weight-bold btn-link" (click)="exportToExcel(5)">
                                            <i class="fa fa-external-link"></i>
                                            Exportar tabla a Excel
                                          </button>
                                        </li>
                                        <li class="list-group-item border-0 pl-0">
                                          <button type="button" (click)="showTableDasboard(5, 1)"
                                            class="btn-shadow mr-3 btn btn-info">
                                            <i class="pe-7s-credit"></i>
                                          </button>
                                          <button type="button" (click)="showTableDasboard(5, 2)" class="btn-shadow btn btn-info float-right">
                                            <i class="pe-7s-graph3"></i>
                                          </button>
                                        </li>
                                      </ul>
                                      <!-- <div class="" style="display:flex;margin:15px;align-items: center;">
                                        <span>Buscar</span>&nbsp;&nbsp;
                                          <input type="text" style='padding:6px;width:100%;' placeholder="por cualquier campo" (keyup)='updateFilter($event)'>
                                      </div> -->
                                    
                                    </div>
                                    <div class="card-body" *ngIf="isGrafico5">
                                      <loading *ngIf="isLoading5">{{ isLoading5 }}</loading>
                                      <div class="d-block" *ngIf="!isLoading5">
                                        <canvas #baseChart id="chart-5">
                                        </canvas>
                                      </div>
                                    </div>
                                    <ngx-datatable #myTable5
                                    class="bootstrap table table-striped"
                                      [columns]="columns3"
                                      [rows]="rows5"
                                      [columnMode]="ColumnMode.flex"
                                      [headerHeight]="50"
                                      [scrollbarH]="true"
                                      (page)="setPage($event)"
                                      [rowClass]="getRowClass"
                                      [rowHeight]="$any('auto')"
                                      *ngIf="isTable5"
                                      >
                                      <ngx-datatable-column [sortable]="false" [flexGrow]="1" [minWidth]="90" *ngFor="let column of columns3; let i = index;" name="{{column.name}}" prop="{{column.prop}}">
                                        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                          let-row="row">
                                          <div [ngClass]="{'row-center': row.item.includes('TOTAL') && column.name === 'ITEM'}">
                                            <span  [ngClass]="{'row-paddin': row.item.includes('-') || row.item.includes('TRABAJADORES') || row.item.includes('SOCIOS') && column.name === 'ITEM'}" [title]="value">{{value}}</span>
                                          </div>
                                          <!-- <span title="Double click to edit" (dblclick)="editing[rowIndex + '-{{column.name}}'] = true"
                                            *ngIf="!editing[rowIndex + '-{{column.name}}']">
                                            {{value}}
                                          </span>
                                          <input autofocus (blur)="updateValue($event, '{{column.name}}', rowIndex)"
                                            *ngIf="editing[rowIndex+ '-{{column.name}}']" type="text" [value]="value" /> -->
                                        </ng-template>
                                      </ngx-datatable-column>
                                    </ngx-datatable>
                                  </div>
                                </div>
                                <div class="card">
                                  
                                  <div class="card-header" >
                                    <div class="box-header">
                                      
                                      <div class="toggle-table">
                                        <div class="callout callout-info">
                                          <h3 class="box-title" id="Title_div_tabla_06">NÚMERO DE CONTRATOS PAGADOS</h3>
                                        </div>
                                        <button type="button" class="btn btn-outline-primary" (click)="collapse6.toggle()" [attr.aria-expanded]="!isCollapsed6"
                                          aria-controls="collapseExample">
                                          <i class="fa fa-minus" *ngIf="!isCollapsed6"> </i>
                                          <i class="fa fa-plus" *ngIf="isCollapsed6"> </i> 
                                        </button>
                                      </div>
                                      
                                    </div>
                                  </div>
                                  <div #collapse6="ngbCollapse" [(ngbCollapse)]="isCollapsed6">
                                    <div class="row" style="align-items: center;justify-content: space-between;">
                                      <ul class="list-group list-group-horizontal list-group-flush" style="flex-wrap: wrap;">
                                        <li class="list-group-item border-0 pl-0">
                                          <button class="btn btn-sm font-weight-bold btn-link" (click)="copyTableToClipboard(6)">
                                            <i class="fa fa-external-link"></i>
                                            Copiar tabla
                                          </button>
                                        </li>
                                        <li class="list-group-item border-0 pl-0">
                                          <button class="btn btn-sm font-weight-bold btn-link" (click)="exportToExcel(6)">
                                            <i class="fa fa-external-link"></i>
                                            Exportar tabla a Excel
                                          </button>
                                        </li>
                                        <li class="list-group-item border-0 pl-0">
                                          <button type="button" (click)="showTableDasboard(6, 1)"
                                            class="btn-shadow mr-3 btn btn-info">
                                            <i class="pe-7s-credit"></i>
                                          </button>
                                          <button type="button" (click)="showTableDasboard(6, 2)" class="btn-shadow btn btn-info float-right">
                                            <i class="pe-7s-graph3"></i>
                                          </button>
                                        </li>
                                      </ul>
                                      <!-- <div class="" style="display:flex;margin:15px;align-items: center;">
                                        <span>Buscar</span>&nbsp;&nbsp;
                                          <input type="text" style='padding:6px;width:100%;' placeholder="por cualquier campo" (keyup)='updateFilter($event)'>
                                      </div> -->
                                    
                                    </div>
                                    <div class="card-body" *ngIf="isGrafico6">
                                      <loading *ngIf="isLoading6">{{ isLoading6 }}</loading>
                                      <div class="d-block" *ngIf="!isLoading6">
                                        <canvas #baseChart id="chart-6">
                                        </canvas>
                                      </div>
                                    </div>
                                    <ngx-datatable #myTable6
                                    class="bootstrap table table-striped"
                                      [columns]="columns4"
                                      [rows]="rows6"
                                      [columnMode]="ColumnMode.flex"
                                      [headerHeight]="50"
                                      [scrollbarH]="true"
                                      (page)="setPage($event)"
                                      [rowClass]="getRowClass"
                                      [rowHeight]="$any('auto')"
                                      *ngIf="isTable6"
                                      >
                                      <ngx-datatable-column [sortable]="false" [flexGrow]="1" [minWidth]="90" *ngFor="let column of columns4; let i = index;" name="{{column.name}}" prop="{{column.prop}}">
                                        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                          let-row="row">
                                          <div [ngClass]="{'row-center': row.item.includes('TOTAL') && column.name === 'ITEM'}">
                                            <span  [ngClass]="{'row-paddin': row.item.includes('-') || row.item.includes('TRABAJADORES') || row.item.includes('SOCIOS') && column.name === 'ITEM'}" [title]="value">{{value}}</span>
                                          </div>
                                          <!-- <span title="Double click to edit" (dblclick)="editing[rowIndex + '-{{column.name}}'] = true"
                                            *ngIf="!editing[rowIndex + '-{{column.name}}']">
                                            {{value}}
                                          </span>
                                          <input autofocus (blur)="updateValue($event, '{{column.name}}', rowIndex)"
                                            *ngIf="editing[rowIndex+ '-{{column.name}}']" type="text" [value]="value" /> -->
                                        </ng-template>
                                      </ngx-datatable-column>
                                    </ngx-datatable>
                                  </div>
                                </div>
                              </div>                       
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                </li>
                <li [ngbNavItem]="3">
                    <a ngbNavLink>DETALLE ANUAL</a>
                    <ng-template ngbNavContent>
                      <div class="card">
                        <div class="card-header">
                          <h4 class="card-title" style="bottom:13px;">INGRESOS POR CUOTAS E INSCRIPCIONES DE PLAN SALUD FAMILIAR</h4>
                          <p>{{message}}</p>
                        </div>
                        <div class="card-content collapse show">
                          <div class="card-body">
                            <!-- <a class="btn btn-primary" id="downloadLink" (click)="exportexcel()">Exportar tabla a Excel</a>
                            <a class="btn btn-primary" id="downloadLink" (click)="copyTableToClipboard()">Copiar tabla</a> -->
                            
                            <div class="table table-striped table-bordered selection-deletion-row">
                                
                              <!-- <div class="row" style='margin-left:0px;'>
                                <div class="col-xs-6">
                                  <select class="form-control form-select" (change)="onLimitChange($event.target.value)">
                                    <option
                                      *ngFor="let option of pageLimitOptions"
                                      [value]="option.value"
              
                                    >
                                      {{ option.value }} Registros
                                    </option>
                                    <option value="0" *ngIf="this.page.totalElements">Todos los Registros</option>
                                  </select>
                                </div>
                              </div> -->
                              <div class="box box-solid">
                                
                                <div id="accordion2">
                                  <div class="card">
                                    <div class="card-header" >
                                      <div class="box-header">
                                        
                                        <div class="toggle-table">
                                          <div class="callout callout-info">
                                            <h3 class="box-title" id="Title_div_tabla_04">INGRESO SIN IGV</h3>
                                          </div>
                                          <button type="button" class="btn btn-outline-primary" (click)="collapse4.toggle()" [attr.aria-expanded]="!isCollapsed4"
                                          aria-controls="collapseExample">
                                          <i class="fa fa-minus" *ngIf="!isCollapsed4"> </i>
                                          <i class="fa fa-plus" *ngIf="isCollapsed4"> </i> 
                                          </button>
                                        </div>
                                      </div>
                                    </div>
                                
                                    <div #collapse4="ngbCollapse" [(ngbCollapse)]="isCollapsed4">
                                      <div class="row" style="align-items: center;justify-content: space-between;">
                                        <ul class="list-group list-group-horizontal list-group-flush" style="flex-wrap: wrap;">
                                          <li class="list-group-item border-0 pl-0">
                                            <button class="btn btn-sm font-weight-bold btn-link" (click)="copyTableToClipboard(4)">
                                              <i class="fa fa-external-link"></i>
                                              Copiar tabla
                                            </button>
                                          </li>
                                          <li class="list-group-item border-0 pl-0">
                                            <button class="btn btn-sm font-weight-bold btn-link" (click)="exportToExcel(4)">
                                              <i class="fa fa-external-link"></i>
                                              Exportar tabla a Excel
                                            </button>
                                          </li>
                                          <li class="list-group-item border-0 pl-0">
                                            <button type="button" (click)="showTableDasboard(4, 1)"
                                              class="btn-shadow mr-3 btn btn-info">
                                              <i class="pe-7s-credit"></i>
                                            </button>
                                            <button type="button" (click)="showTableDasboard(4, 2)" class="btn-shadow btn btn-info float-right">
                                              <i class="pe-7s-graph3"></i>
                                            </button>
                                          </li>
                                        </ul>
                                        <!-- <div class="" style="display:flex;margin:15px;align-items: center;">
                                          <span>Buscar</span>&nbsp;&nbsp;
                                            <input type="text" style='padding:6px;width:100%;' placeholder="por cualquier campo" (keyup)='updateFilter($event)'>
                                        </div> -->
                                      
                                      </div>
                                      <div class="card-body" *ngIf="isGrafico4">
                                        <loading *ngIf="isLoading4">{{ isLoading4 }}</loading>
                                        <div class="d-block" *ngIf="!isLoading4">
                                          <canvas #baseChart id="chart-4">
                                          </canvas>
                                        </div>
                                      </div>
                                      <ngx-datatable #myTable4
                                      class="bootstrap table table-striped"
                                        [columns]="columns3"
                                        [rows]="rows4"
                                        [columnMode]="ColumnMode.flex"
                                        [headerHeight]="50"
                                        [scrollbarH]="true"
                                        (page)="setPage($event)"
                                        [rowClass]="getRowClass"
                                        [rowHeight]="$any('auto')"
                                        *ngIf="isTable4"
                                        >
                                        <ngx-datatable-column [sortable]="false" [flexGrow]="1" [minWidth]="90" *ngFor="let column of columns3; let i = index;" name="{{column.name}}" prop="{{column.prop}}" >
                                          <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                            let-row="row">
                                            <div [ngClass]="{'row-center': row.item.includes('TOTAL') && column.name === 'ITEM'}">
                                              <span  [ngClass]="{'row-paddin': row.item.includes('-') || row.item.includes('TRABAJADORES') || row.item.includes('SOCIOS') && column.name === 'ITEM'}" [title]="value">{{value}}</span>
                                            </div>
                                            
                                            <!-- <span title="Double click to edit" (dblclick)="editing[rowIndex + '-{{column.name}}'] = true"
                                              *ngIf="!editing[rowIndex + '-{{column.name}}']">
                                              {{value}}
                                            </span>
                                            <input autofocus (blur)="updateValue($event, '{{column.name}}', rowIndex)"
                                              *ngIf="editing[rowIndex+ '-{{column.name}}']" type="text" [value]="value" /> -->
                                          </ng-template>
                                        </ngx-datatable-column>
                                      </ngx-datatable>
                                    </div>
                                  </div>
                                  <div class="card">
                                    <div class="card-header" >
                                      <div class="box-header">
                                        
                                        <div class="toggle-table">
                                          <div class="callout callout-info">
                                            <h3 class="box-title" id="Title_div_tabla_05">INGRESO CON IGV</h3>
                                          </div>
                                          <button type="button" class="btn btn-outline-primary" (click)="collapse5.toggle()" [attr.aria-expanded]="!isCollapsed5"
                                            aria-controls="collapseExample">
                                            <i class="fa fa-minus" *ngIf="!isCollapsed5"> </i>
                                            <i class="fa fa-plus" *ngIf="isCollapsed5"> </i> 
                                          </button>
                                        </div>
                                      </div>
                                    </div>
                                
                                    <div #collapse5="ngbCollapse" [(ngbCollapse)]="isCollapsed5">
                                      <div class="row" style="align-items: center;justify-content: space-between;">
                                        <ul class="list-group list-group-horizontal list-group-flush" style="flex-wrap: wrap;">
                                          <li class="list-group-item border-0 pl-0">
                                            <button class="btn btn-sm font-weight-bold btn-link" (click)="copyTableToClipboard(5)">
                                              <i class="fa fa-external-link"></i>
                                              Copiar tabla
                                            </button>
                                          </li>
                                          <li class="list-group-item border-0 pl-0">
                                            <button class="btn btn-sm font-weight-bold btn-link" (click)="exportToExcel(5)">
                                              <i class="fa fa-external-link"></i>
                                              Exportar tabla a Excel
                                            </button>
                                          </li>
                                          <li class="list-group-item border-0 pl-0">
                                            <button type="button" (click)="showTableDasboard(5, 1)"
                                              class="btn-shadow mr-3 btn btn-info">
                                              <i class="pe-7s-credit"></i>
                                            </button>
                                            <button type="button" (click)="showTableDasboard(5, 2)" class="btn-shadow btn btn-info float-right">
                                              <i class="pe-7s-graph3"></i>
                                            </button>
                                          </li>
                                        </ul>
                                        <!-- <div class="" style="display:flex;margin:15px;align-items: center;">
                                          <span>Buscar</span>&nbsp;&nbsp;
                                            <input type="text" style='padding:6px;width:100%;' placeholder="por cualquier campo" (keyup)='updateFilter($event)'>
                                        </div> -->
                                      
                                      </div>
                                      <div class="card-body" *ngIf="isGrafico5">
                                        <loading *ngIf="isLoading5">{{ isLoading5 }}</loading>
                                        <div class="d-block" *ngIf="!isLoading5">
                                          <canvas #baseChart id="chart-5">
                                          </canvas>
                                        </div>
                                      </div>
                                      <ngx-datatable #myTable5
                                      class="bootstrap table table-striped"
                                        [columns]="columns3"
                                        [rows]="rows5"
                                        [columnMode]="ColumnMode.flex"
                                        [headerHeight]="50"
                                        [scrollbarH]="true"
                                        (page)="setPage($event)"
                                        [rowClass]="getRowClass"
                                        [rowHeight]="$any('auto')"
                                        *ngIf="isTable5"
                                        >
                                        <ngx-datatable-column [sortable]="false" [flexGrow]="1" [minWidth]="90" *ngFor="let column of columns3; let i = index;" name="{{column.name}}" prop="{{column.prop}}">
                                          <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                            let-row="row">
                                            <div [ngClass]="{'row-center': row.item.includes('TOTAL') && column.name === 'ITEM'}">
                                              <span  [ngClass]="{'row-paddin': row.item.includes('-') || row.item.includes('TRABAJADORES') || row.item.includes('SOCIOS') && column.name === 'ITEM'}" [title]="value">{{value}}</span>
                                            </div>
                                            <!-- <span title="Double click to edit" (dblclick)="editing[rowIndex + '-{{column.name}}'] = true"
                                              *ngIf="!editing[rowIndex + '-{{column.name}}']">
                                              {{value}}
                                            </span>
                                            <input autofocus (blur)="updateValue($event, '{{column.name}}', rowIndex)"
                                              *ngIf="editing[rowIndex+ '-{{column.name}}']" type="text" [value]="value" /> -->
                                          </ng-template>
                                        </ngx-datatable-column>
                                      </ngx-datatable>
                                    </div>
                                  </div>
                                  <div class="card">
                                    
                                    <div class="card-header" >
                                      <div class="box-header">
                                        
                                        <div class="toggle-table">
                                          <div class="callout callout-info">
                                            <h3 class="box-title" id="Title_div_tabla_06">NÚMERO DE CONTRATOS PAGADOS</h3>
                                          </div>
                                          <button type="button" class="btn btn-outline-primary" (click)="collapse6.toggle()" [attr.aria-expanded]="!isCollapsed6"
                                            aria-controls="collapseExample">
                                            <i class="fa fa-minus" *ngIf="!isCollapsed6"> </i>
                                            <i class="fa fa-plus" *ngIf="isCollapsed6"> </i> 
                                          </button>
                                        </div>
                                        
                                      </div>
                                    </div>
                                    <div #collapse6="ngbCollapse" [(ngbCollapse)]="isCollapsed6">
                                      <div class="row" style="align-items: center;justify-content: space-between;">
                                        <ul class="list-group list-group-horizontal list-group-flush" style="flex-wrap: wrap;">
                                          <li class="list-group-item border-0 pl-0">
                                            <button class="btn btn-sm font-weight-bold btn-link" (click)="copyTableToClipboard(6)">
                                              <i class="fa fa-external-link"></i>
                                              Copiar tabla
                                            </button>
                                          </li>
                                          <li class="list-group-item border-0 pl-0">
                                            <button class="btn btn-sm font-weight-bold btn-link" (click)="exportToExcel(6)">
                                              <i class="fa fa-external-link"></i>
                                              Exportar tabla a Excel
                                            </button>
                                          </li>
                                          <li class="list-group-item border-0 pl-0">
                                            <button type="button" (click)="showTableDasboard(6, 1)"
                                              class="btn-shadow mr-3 btn btn-info">
                                              <i class="pe-7s-credit"></i>
                                            </button>
                                            <button type="button" (click)="showTableDasboard(6, 2)" class="btn-shadow btn btn-info float-right">
                                              <i class="pe-7s-graph3"></i>
                                            </button>
                                          </li>
                                        </ul>
                                        <!-- <div class="" style="display:flex;margin:15px;align-items: center;">
                                          <span>Buscar</span>&nbsp;&nbsp;
                                            <input type="text" style='padding:6px;width:100%;' placeholder="por cualquier campo" (keyup)='updateFilter($event)'>
                                        </div> -->
                                      
                                      </div>
                                      <div class="card-body" *ngIf="isGrafico6">
                                        <loading *ngIf="isLoading6">{{ isLoading6 }}</loading>
                                        <div class="d-block" *ngIf="!isLoading6">
                                          <canvas #baseChart id="chart-6">
                                          </canvas>
                                        </div>
                                      </div>
                                      <ngx-datatable #myTable6
                                      class="bootstrap table table-striped"
                                        [columns]="columns4"
                                        [rows]="rows6"
                                        [columnMode]="ColumnMode.flex"
                                        [headerHeight]="50"
                                        [scrollbarH]="true"
                                        (page)="setPage($event)"
                                        [rowClass]="getRowClass"
                                        [rowHeight]="$any('auto')"
                                        *ngIf="isTable6"
                                        >
                                        <ngx-datatable-column [sortable]="false" [flexGrow]="1" [minWidth]="90" *ngFor="let column of columns4; let i = index;" name="{{column.name}}" prop="{{column.prop}}">
                                          <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value"
                                            let-row="row">
                                            <div [ngClass]="{'row-center': row.item.includes('TOTAL') && column.name === 'ITEM'}">
                                              <span  [ngClass]="{'row-paddin': row.item.includes('-') || row.item.includes('TRABAJADORES') || row.item.includes('SOCIOS') && column.name === 'ITEM'}" [title]="value">{{value}}</span>
                                            </div>
                                            <!-- <span title="Double click to edit" (dblclick)="editing[rowIndex + '-{{column.name}}'] = true"
                                              *ngIf="!editing[rowIndex + '-{{column.name}}']">
                                              {{value}}
                                            </span>
                                            <input autofocus (blur)="updateValue($event, '{{column.name}}', rowIndex)"
                                              *ngIf="editing[rowIndex+ '-{{column.name}}']" type="text" [value]="value" /> -->
                                          </ng-template>
                                        </ngx-datatable-column>
                                      </ngx-datatable>
                                    </div>
                                  </div>
                                </div>                       
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </ng-template>
                  </li>
              </ul>
              
              <div [ngbNavOutlet]="nav" class="mt-2"></div>
              
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>
  
  <!-- ////////////////////////////////////////////////////////////////////////////-->
  